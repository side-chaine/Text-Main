 BlockLoopControl: Available markers count: 49
 BlockLoopControl: Block line range: 19 to 26
 BlockLoopControl: Found start marker for line 19: 119.61s
 BlockLoopControl: Searching for end marker after line 26
 BlockLoopControl: Found end marker (first of next block) for line 27: 140.41s
 BlockLoopControl: Block "Block 6" LOOP BOUNDS: START=119.61s END=140.41s (duration: 20.80s)
    Current time range: 119.606s - 140.406s
    New time range: 119.606s - 140.406s
    Time difference: 0.000s
    Same time range: true
 ✅ SAME BLOCK CONFIRMED: Not stopping loop - this is the same block
 🔍 LOOP DIAGNOSTIC #4530:
      Current: 124.951s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 6.731s
      Audio State: playing
 ✅ LOOP SAFE: 5.2s until loop end
 🔇 Глубокая тишина - очистка нот
 🛑 Принудительная остановка всех нот (deep_silence), активных: 1
 🔍 LOOP DIAGNOSTIC #4540:
      Current: 125.346s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 7.232s
      Audio State: playing
 ✅ LOOP SAFE: 4.8s until loop end
 🔇 Глубокая тишина - очистка нот
 🛑 Принудительная остановка всех нот (deep_silence), активных: 1
 🔍 LOOP DIAGNOSTIC #4550:
      Current: 125.759s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 7.741s
      Audio State: playing
 ✅ LOOP SAFE: 4.4s until loop end
 🔍 LOOP DIAGNOSTIC #4560:
      Current: 126.154s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 8.24s
      Audio State: playing
 ✅ LOOP SAFE: 4.0s until loop end
 🔇 Глубокая тишина - очистка нот
 🛑 Принудительная остановка всех нот (deep_silence), активных: 1
 ✅ AUTO RECOVERY: Loop health OK (check #4570)
    Loop active: true
    Current time: 126.5s
    Loop range: 119.6s - 130.1s
 🚫 Блокирована очевидная гармоника: 129.0Hz (0.50x от 257.4Hz, ясность: 87.1%)
 🚫 Блокирована очевидная гармоника: 128.8Hz (0.50x от 256.1Hz, ясность: 87.9%)
 🔍 LOOP DIAGNOSTIC #4580:
      Current: 126.911s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 9.181s
      Audio State: playing
 ✅ LOOP SAFE: 3.2s until loop end
 🔍 LOOP DIAGNOSTIC #4590:
      Current: 127.311s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 9.679s
      Audio State: playing
 ✅ LOOP SAFE: 2.8s until loop end
 Rehearsal: Line changing from 21 to 22
 🔧 Block "Block 1": original=[0,1,2,3,4,5,6,7], sorted=[0,1,2,3,4,5,6,7]
 🔧 Block "Block 2": original=[8,9,10,11], sorted=[8,9,10,11]
 🔧 Block "Block 3": original=[12,13,14,15,16], sorted=[12,13,14,15,16]
 🔧 Block "Block 4": original=[17], sorted=[17]
 🔧 Block "Block 5": original=[18], sorted=[18]
 🔧 Block "Block 6": original=[19,20,21,22,23,24,25,26], sorted=[19,20,21,22,23,24,25,26]
 🔧 Block "Block 7": original=[27,28,29,30,31], sorted=[27,28,29,30,31]
 🔧 Block "Block 8": original=[32], sorted=[32]
 🔧 Block "Block 9": original=[33], sorted=[33]
 🔧 Block "Block 10": original=[34,35,36,37,38,39,40,41,42], sorted=[34,35,36,37,38,39,40,41,42]
 Splitting block "Block 10" (9 lines) into 2 parts with ~5 lines each
   Part 1: lines 0-4 (5 lines)
   Part 2: lines 5-8 (4 lines)
 🔧 Block "Block 11": original=[43], sorted=[43]
 🔧 Block "Block 12": original=[44], sorted=[44]
 🔧 Block "Block 13": original=[45], sorted=[45]
 🔧 Block "Block 14": original=[46], sorted=[46]
 🔧 Block "Block 15": original=[47,48], sorted=[47,48]
 Rehearsal: Current line 21 belongs to block: 5 Array(8)
 Rehearsal: New line 22 belongs to block: 5 Array(8)
 Rehearsal: Same block (5), updating active line from 21 to 22
 [SETACTIVE] Called with index 22. Current style: rehearsal
 Rehearsal mode: Setting active line 22
 Activating rehearsal line at index 22
 📡 BLOCK CHANGE EVENT received
    Current loop block: Block 6 (ID: 5)
    New active block: Block 6 (ID: 5)
    Loop is active: true
    Seeking in progress: false
 🎯 LOOP IS ACTIVE: Checking user boundaries
    DragBoundaryController exists: true
    DragBoundaryController is active: true
    Has user defined boundaries: true
 🎯 USER BOUNDARY DETAILED CHECK:
    Current line index: -1
    Boundaries object: Object
 🎯 BOUNDARY VALIDATION:
    Current block lines: [19,20,21,22,23,24,25,26]
    User boundaries: 19 - 22
    Boundaries in current block: true
 🎯 USER BOUNDARY CHECK:
    Current line: -1
    User boundaries: 19 - 22
    Within boundaries: false
 🚨 LINE OUTSIDE USER BOUNDARIES: Line -1 is outside user range 19-22, checking other conditions
    Same block ID: true
    Same block name: true
    Current block lines: [19,20,21,22,23,24,25,26]
    New block lines: [19,20,21,22,23,24,25,26]
    Same lines: true
 BlockLoopControl: Calculating time range for block "Block 6" with lines [19,20,21,22,23,24,25,26]
 BlockLoopControl: Available markers count: 49
 BlockLoopControl: Block line range: 19 to 26
 BlockLoopControl: Found start marker for line 19: 119.61s
 BlockLoopControl: Searching for end marker after line 26
 BlockLoopControl: Found end marker (first of next block) for line 27: 140.41s
 BlockLoopControl: Block "Block 6" LOOP BOUNDS: START=119.61s END=140.41s (duration: 20.80s)
 BlockLoopControl: Calculating time range for block "Block 6" with lines [19,20,21,22,23,24,25,26]
 BlockLoopControl: Available markers count: 49
 BlockLoopControl: Block line range: 19 to 26
 BlockLoopControl: Found start marker for line 19: 119.61s
 BlockLoopControl: Searching for end marker after line 26
 BlockLoopControl: Found end marker (first of next block) for line 27: 140.41s
 BlockLoopControl: Block "Block 6" LOOP BOUNDS: START=119.61s END=140.41s (duration: 20.80s)
    Current time range: 119.606s - 140.406s
    New time range: 119.606s - 140.406s
    Time difference: 0.000s
    Same time range: true
 ✅ SAME BLOCK CONFIRMED: Not stopping loop - this is the same block
 🔇 Глубокая тишина - очистка нот
 🛑 Принудительная остановка всех нот (deep_silence), активных: 1
 🔍 LOOP DIAGNOSTIC #4600:
      Current: 127.711s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 10.182s
      Audio State: playing
 ✅ LOOP SAFE: 2.4s until loop end
 🔇 Глубокая тишина - очистка нот
 🛑 Принудительная остановка всех нот (deep_silence), активных: 1
 🔍 LOOP DIAGNOSTIC #4610:
      Current: 128.111s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 10.681s
      Audio State: playing
 ✅ LOOP SAFE: 2.0s until loop end
 🚫 Октавный скачок заблокирован: 256.2Hz → 492.6Hz за 33мс (ratio: 1.92)
 🚫 Блокирована очевидная гармоника: 477.7Hz (1.98x от 241.6Hz, ясность: 88.9%)
 🚫 Блокирована очевидная гармоника: 476.6Hz (1.97x от 241.6Hz, ясность: 89.2%)
 🔍 LOOP DIAGNOSTIC #4620:
      Current: 128.471s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 11.128s
      Audio State: playing
 ✅ LOOP SAFE: 1.7s until loop end
 🔍 LOOP DIAGNOSTIC #4630:
      Current: 128.879s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 11.64s
      Audio State: playing
 ✅ LOOP SAFE: 1.3s until loop end
 ✅ Октавный переход разрешен: 231.0Hz → 450.8Hz за 73мс (ratio: 1.95)
 🚫 Октавный скачок заблокирован: 450.8Hz → 234.1Hz за 27мс (ratio: 0.52)
 ✅ Октавный переход разрешен: 450.8Hz → 232.8Hz за 41мс (ratio: 0.52)
 🚫 Октавный скачок заблокирован: 487.8Hz → 226.9Hz за 18мс (ratio: 0.47)
 🔍 LOOP DIAGNOSTIC #4640:
      Current: 129.279s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 12.138s
      Audio State: playing
 🔇 Глубокая тишина - очистка нот
 🛑 Принудительная остановка всех нот (deep_silence), активных: 1
 🔍 LOOP DIAGNOSTIC #4650:
      Current: 129.679s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 12.64s
      Audio State: playing
 🚀 PRE-JUMP PREPARATION at 129.999s (0.133s until end)
 🚨 LOOP PRE-JUMP TRIGGERED at 129.999s
     Time since last jump: 13.0s
     Jump allowed: true (min interval: 1.2s)
     Currently seeking: false
 🎯 JUMP TARGET VALIDATION:
     Target time: 119.606s
     Target line: 19
     Current block lines: [19,20,21,22,23,24,25,26]
     Block contains target: true
 🔄 EXECUTING PRE-JUMP LOOP JUMP: 129.999s → 119.606s (target: 119.616s)
 🔒 SEEK STARTED: isSeekingInProgress = true
    Executing setCurrentTime(119.616)
    Time before seek: 129.999s
 ⏰ СИНХРО: Позиция установлена 119.62с
 Rehearsal: Line changing from 22 to 19
 🔧 Block "Block 1": original=[0,1,2,3,4,5,6,7], sorted=[0,1,2,3,4,5,6,7]
 🔧 Block "Block 2": original=[8,9,10,11], sorted=[8,9,10,11]
 🔧 Block "Block 3": original=[12,13,14,15,16], sorted=[12,13,14,15,16]
 🔧 Block "Block 4": original=[17], sorted=[17]
 🔧 Block "Block 5": original=[18], sorted=[18]
 🔧 Block "Block 6": original=[19,20,21,22,23,24,25,26], sorted=[19,20,21,22,23,24,25,26]
 🔧 Block "Block 7": original=[27,28,29,30,31], sorted=[27,28,29,30,31]
 🔧 Block "Block 8": original=[32], sorted=[32]
 🔧 Block "Block 9": original=[33], sorted=[33]
 🔧 Block "Block 10": original=[34,35,36,37,38,39,40,41,42], sorted=[34,35,36,37,38,39,40,41,42]
 Splitting block "Block 10" (9 lines) into 2 parts with ~5 lines each
   Part 1: lines 0-4 (5 lines)
   Part 2: lines 5-8 (4 lines)
 🔧 Block "Block 11": original=[43], sorted=[43]
 🔧 Block "Block 12": original=[44], sorted=[44]
 🔧 Block "Block 13": original=[45], sorted=[45]
 🔧 Block "Block 14": original=[46], sorted=[46]
 🔧 Block "Block 15": original=[47,48], sorted=[47,48]
 Rehearsal: Current line 22 belongs to block: 5 Array(8)
 Rehearsal: New line 19 belongs to block: 5 Array(8)
 Rehearsal: Same block (5), updating active line from 22 to 19
 [SETACTIVE] Called with index 19. Current style: rehearsal
 Rehearsal mode: Setting active line 19
 Activating rehearsal line at index 19
 📡 BLOCK CHANGE EVENT received
    Current loop block: Block 6 (ID: 5)
    New active block: Block 6 (ID: 5)
    Loop is active: true
    Seeking in progress: true
 🔒 IGNORING BLOCK CHANGE: Seek in progress, this is likely caused by the loop jump
 🔒 LOOP CHECKS BLOCKED: Seek in progress for 65ms
 🔒 LOOP CHECKS BLOCKED: Seek in progress for 94ms
 🔒 LOOP CHECKS BLOCKED: Seek in progress for 141ms
 🔒 LOOP CHECKS BLOCKED: Seek in progress for 190ms
 🔇 Глубокая тишина - очистка нот
 🛑 Принудительная остановка всех нот (deep_silence), активных: 1
 🔒 LOOP CHECKS BLOCKED: Seek in progress for 241ms
 🔒 LOOP CHECKS BLOCKED: Seek in progress for 301ms
 ⚠️ PRIMARY SEEK TIMEOUT: Forcing isSeekingInProgress = false after 300ms
(анонимная) @ block-loop-control.js:664
 🔇 Глубокая тишина - очистка нот
 🛑 Принудительная остановка всех нот (deep_silence), активных: 1
 🔍 LOOP DIAGNOSTIC #4670:
      Current: 120.023s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 0.569s
      Audio State: playing
 ✅ LOOP SAFE: 10.1s until loop end
 🔍 LOOP DIAGNOSTIC #4680:
      Current: 120.407s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 1.042s
rtf-parser.js:849      Audio State: playing
rtf-parser.js:849 ✅ LOOP SAFE: 9.7s until loop end
rtf-parser.js:849 🚫 Блокирована очевидная гармоника: 238.2Hz (0.50x от 480.7Hz, ясность: 86.4%)
rtf-parser.js:849 🎯 Высокая ясность (90.6%) - принимаем возможную гармонику: 236.9Hz
rtf-parser.js:849 🚫 Октавный скачок заблокирован: 480.7Hz → 236.9Hz за 24мс (ratio: 0.49)
rtf-parser.js:849 ✅ Октавный переход разрешен: 480.7Hz → 235.4Hz за 40мс (ratio: 0.49)
rtf-parser.js:849 🔍 LOOP DIAGNOSTIC #4690:
rtf-parser.js:849      Current: 120.807s
rtf-parser.js:849      Loop Range: 119.606s - 130.132s
rtf-parser.js:849      End Threshold: 130.082s
rtf-parser.js:849      Time Since Last Jump: 1.545s
rtf-parser.js:849      Audio State: playing
rtf-parser.js:849 ✅ LOOP SAFE: 9.3s until loop end
rtf-parser.js:849 🔍 LOOP DIAGNOSTIC #4700:
rtf-parser.js:849      Current: 121.183s
rtf-parser.js:849      Loop Range: 119.606s - 130.132s
rtf-parser.js:849      End Threshold: 130.082s
rtf-parser.js:849      Time Since Last Jump: 2.009s
rtf-parser.js:849      Audio State: playing
rtf-parser.js:849 ✅ LOOP SAFE: 8.9s until loop end
rtf-parser.js:849 🔇 Глубокая тишина - очистка нот
rtf-parser.js:849 🛑 Принудительная остановка всех нот (deep_silence), активных: 1
rtf-parser.js:849 🔍 LOOP DIAGNOSTIC #4710:
rtf-parser.js:849      Current: 121.575s
rtf-parser.js:849      Loop Range: 119.606s - 130.132s
rtf-parser.js:849      End Threshold: 130.082s
rtf-parser.js:849      Time Since Last Jump: 2.503s
rtf-parser.js:849      Audio State: playing
rtf-parser.js:849 ✅ LOOP SAFE: 8.6s until loop end
rtf-parser.js:849 ✅ Октавный переход разрешен: 219.2Hz → 104.8Hz за 267мс (ratio: 0.48)
rtf-parser.js:849 🎯 Высокая ясность (90.4%) - принимаем возможную гармонику: 496.9Hz
rtf-parser.js:849 🚫 Октавный скачок заблокирован: 250.5Hz → 496.9Hz за 34мс (ratio: 1.98)
rtf-parser.js:849 ✅ Октавный переход разрешен: 250.5Hz → 490.7Hz за 54мс (ratio: 1.96)
rtf-parser.js:849 🎯 Высокая ясность (94.3%) - принимаем возможную гармонику: 247.1Hz
rtf-parser.js:849 🚫 Октавный скачок заблокирован: 490.7Hz → 247.1Hz за 13мс (ratio: 0.50)
rtf-parser.js:849 🚫 Октавный скачок заблокирован: 490.7Hz → 246.5Hz за 28мс (ratio: 0.50)
rtf-parser.js:849 ✅ Октавный переход разрешен: 490.7Hz → 244.9Hz за 47мс (ratio: 0.50)
rtf-parser.js:849 🔍 LOOP DIAGNOSTIC #4720:
rtf-parser.js:849      Current: 121.969s
rtf-parser.js:849      Loop Range: 119.606s - 130.132s
rtf-parser.js:849      End Threshold: 130.082s
rtf-parser.js:849      Time Since Last Jump: 3s
rtf-parser.js:849      Audio State: playing
rtf-parser.js:849 ✅ LOOP SAFE: 8.2s until loop end
rtf-parser.js:849 🔇 Глубокая тишина - очистка нот
rtf-parser.js:849 🛑 Принудительная остановка всех нот (deep_silence), активных: 1
rtf-parser.js:849 Rehearsal: Line changing from 19 to 20
rtf-parser.js:849 🔧 Block "Block 1": original=[0,1,2,3,4,5,6,7], sorted=[0,1,2,3,4,5,6,7]
rtf-parser.js:849 🔧 Block "Block 2": original=[8,9,10,11], sorted=[8,9,10,11]
rtf-parser.js:849 🔧 Block "Block 3": original=[12,13,14,15,16], sorted=[12,13,14,15,16]
rtf-parser.js:849 🔧 Block "Block 4": original=[17], sorted=[17]
rtf-parser.js:849 🔧 Block "Block 5": original=[18], sorted=[18]
rtf-parser.js:849 🔧 Block "Block 6": original=[19,20,21,22,23,24,25,26], sorted=[19,20,21,22,23,24,25,26]
rtf-parser.js:849 🔧 Block "Block 7": original=[27,28,29,30,31], sorted=[27,28,29,30,31]
rtf-parser.js:849 🔧 Block "Block 8": original=[32], sorted=[32]
rtf-parser.js:849 🔧 Block "Block 9": original=[33], sorted=[33]
rtf-parser.js:849 🔧 Block "Block 10": original=[34,35,36,37,38,39,40,41,42], sorted=[34,35,36,37,38,39,40,41,42]
rtf-parser.js:849 Splitting block "Block 10" (9 lines) into 2 parts with ~5 lines each
rtf-parser.js:849   Part 1: lines 0-4 (5 lines)
rtf-parser.js:849   Part 2: lines 5-8 (4 lines)
rtf-parser.js:849 🔧 Block "Block 11": original=[43], sorted=[43]
rtf-parser.js:849 🔧 Block "Block 12": original=[44], sorted=[44]
rtf-parser.js:849 🔧 Block "Block 13": original=[45], sorted=[45]
rtf-parser.js:849 🔧 Block "Block 14": original=[46], sorted=[46]
rtf-parser.js:849 🔧 Block "Block 15": original=[47,48], sorted=[47,48]
rtf-parser.js:849 Rehearsal: Current line 19 belongs to block: 5 Array(8)
rtf-parser.js:849 Rehearsal: New line 20 belongs to block: 5 Array(8)
rtf-parser.js:849 Rehearsal: Same block (5), updating active line from 19 to 20
rtf-parser.js:849 [SETACTIVE] Called with index 20. Current style: rehearsal
rtf-parser.js:849 Rehearsal mode: Setting active line 20
rtf-parser.js:849 Activating rehearsal line at index 20
rtf-parser.js:849 📡 BLOCK CHANGE EVENT received
rtf-parser.js:849    Current loop block: Block 6 (ID: 5)
rtf-parser.js:849    New active block: Block 6 (ID: 5)
rtf-parser.js:849    Loop is active: true
rtf-parser.js:849    Seeking in progress: false
rtf-parser.js:849 ✅ SEEK BUFFER EXPIRED: 3002ms since seek, processing block change
rtf-parser.js:849 🎯 LOOP IS ACTIVE: Checking user boundaries
rtf-parser.js:849    DragBoundaryController exists: true
    DragBoundaryController is active: true
    Has user defined boundaries: true
 🎯 USER BOUNDARY DETAILED CHECK:
    Current line index: -1
    Boundaries object: Object
 🎯 BOUNDARY VALIDATION:
    Current block lines: [19,20,21,22,23,24,25,26]
    User boundaries: 19 - 22
    Boundaries in current block: true
 🎯 USER BOUNDARY CHECK:
    Current line: -1
    User boundaries: 19 - 22
    Within boundaries: false
 🚨 LINE OUTSIDE USER BOUNDARIES: Line -1 is outside user range 19-22, checking other conditions
    Same block ID: true
    Same block name: true
    Current block lines: [19,20,21,22,23,24,25,26]
    New block lines: [19,20,21,22,23,24,25,26]
    Same lines: true
 BlockLoopControl: Calculating time range for block "Block 6" with lines [19,20,21,22,23,24,25,26]
 BlockLoopControl: Available markers count: 49
 BlockLoopControl: Block line range: 19 to 26
 BlockLoopControl: Found start marker for line 19: 119.61s
 BlockLoopControl: Searching for end marker after line 26
 BlockLoopControl: Found end marker (first of next block) for line 27: 140.41s
 BlockLoopControl: Block "Block 6" LOOP BOUNDS: START=119.61s END=140.41s (duration: 20.80s)
 BlockLoopControl: Calculating time range for block "Block 6" with lines [19,20,21,22,23,24,25,26]
 BlockLoopControl: Available markers count: 49
 BlockLoopControl: Block line range: 19 to 26
 BlockLoopControl: Found start marker for line 19: 119.61s
 BlockLoopControl: Searching for end marker after line 26
 BlockLoopControl: Found end marker (first of next block) for line 27: 140.41s
 BlockLoopControl: Block "Block 6" LOOP BOUNDS: START=119.61s END=140.41s (duration: 20.80s)
    Current time range: 119.606s - 140.406s
    New time range: 119.606s - 140.406s
    Time difference: 0.000s
    Same time range: true
 ✅ SAME BLOCK CONFIRMED: Not stopping loop - this is the same block
 🔍 LOOP DIAGNOSTIC #4730:
      Current: 122.383s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 3.511s
      Audio State: playing
 ✅ LOOP SAFE: 7.7s until loop end
 🔇 Глубокая тишина - очистка нот
 🛑 Принудительная остановка всех нот (deep_silence), активных: 1
 🔍 LOOP DIAGNOSTIC #4740:
      Current: 122.720s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 3.939s
      Audio State: playing
 ✅ LOOP SAFE: 7.4s until loop end
 🚫 Блокирована очевидная гармоника: 494.6Hz (2.00x от 246.7Hz, ясность: 84.2%)
 🔍 LOOP DIAGNOSTIC #4750:
      Current: 123.135s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 4.449s
      Audio State: playing
 ✅ LOOP SAFE: 7.0s until loop end
 🔍 LOOP DIAGNOSTIC #4760:
      Current: 123.527s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 4.942s
      Audio State: playing
 ✅ LOOP SAFE: 6.6s until loop end
 🔇 Глубокая тишина - очистка нот
 🛑 Принудительная остановка всех нот (deep_silence), активных: 1
 🔍 LOOP DIAGNOSTIC #4770:
      Current: 123.921s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 5.436s
      Audio State: playing
 ✅ LOOP SAFE: 6.2s until loop end
 🔍 LOOP DIAGNOSTIC #4780:
      Current: 124.287s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 5.895s
      Audio State: playing
 ✅ LOOP SAFE: 5.8s until loop end
 🔇 Глубокая тишина - очистка нот
 🛑 Принудительная остановка всех нот (deep_silence), активных: 1
 🔍 LOOP DIAGNOSTIC #4790:
      Current: 124.680s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 6.398s
      Audio State: playing
 ✅ LOOP SAFE: 5.5s until loop end
 Rehearsal: Line changing from 20 to 21
 🔧 Block "Block 1": original=[0,1,2,3,4,5,6,7], sorted=[0,1,2,3,4,5,6,7]
 🔧 Block "Block 2": original=[8,9,10,11], sorted=[8,9,10,11]
 🔧 Block "Block 3": original=[12,13,14,15,16], sorted=[12,13,14,15,16]
 🔧 Block "Block 4": original=[17], sorted=[17]
 🔧 Block "Block 5": original=[18], sorted=[18]
 🔧 Block "Block 6": original=[19,20,21,22,23,24,25,26], sorted=[19,20,21,22,23,24,25,26]
 🔧 Block "Block 7": original=[27,28,29,30,31], sorted=[27,28,29,30,31]
 🔧 Block "Block 8": original=[32], sorted=[32]
 🔧 Block "Block 9": original=[33], sorted=[33]
 🔧 Block "Block 10": original=[34,35,36,37,38,39,40,41,42], sorted=[34,35,36,37,38,39,40,41,42]
 Splitting block "Block 10" (9 lines) into 2 parts with ~5 lines each
   Part 1: lines 0-4 (5 lines)
   Part 2: lines 5-8 (4 lines)
 🔧 Block "Block 11": original=[43], sorted=[43]
 🔧 Block "Block 12": original=[44], sorted=[44]
 🔧 Block "Block 13": original=[45], sorted=[45]
 🔧 Block "Block 14": original=[46], sorted=[46]
 🔧 Block "Block 15": original=[47,48], sorted=[47,48]
 Rehearsal: Current line 20 belongs to block: 5 Array(8)
 Rehearsal: New line 21 belongs to block: 5 Array(8)
 Rehearsal: Same block (5), updating active line from 20 to 21
 [SETACTIVE] Called with index 21. Current style: rehearsal
 Rehearsal mode: Setting active line 21
 Activating rehearsal line at index 21
 📡 BLOCK CHANGE EVENT received
    Current loop block: Block 6 (ID: 5)
    New active block: Block 6 (ID: 5)
    Loop is active: true
    Seeking in progress: false
 🎯 LOOP IS ACTIVE: Checking user boundaries
    DragBoundaryController exists: true
    DragBoundaryController is active: true
    Has user defined boundaries: true
 🎯 USER BOUNDARY DETAILED CHECK:
    Current line index: -1
    Boundaries object: Object
 🎯 BOUNDARY VALIDATION:
    Current block lines: [19,20,21,22,23,24,25,26]
    User boundaries: 19 - 22
    Boundaries in current block: true
 🎯 USER BOUNDARY CHECK:
    Current line: -1
    User boundaries: 19 - 22
    Within boundaries: false
 🚨 LINE OUTSIDE USER BOUNDARIES: Line -1 is outside user range 19-22, checking other conditions
    Same block ID: true
    Same block name: true
    Current block lines: [19,20,21,22,23,24,25,26]
    New block lines: [19,20,21,22,23,24,25,26]
    Same lines: true
 BlockLoopControl: Calculating time range for block "Block 6" with lines [19,20,21,22,23,24,25,26]
 BlockLoopControl: Available markers count: 49
 BlockLoopControl: Block line range: 19 to 26
 BlockLoopControl: Found start marker for line 19: 119.61s
 BlockLoopControl: Searching for end marker after line 26
 BlockLoopControl: Found end marker (first of next block) for line 27: 140.41s
 BlockLoopControl: Block "Block 6" LOOP BOUNDS: START=119.61s END=140.41s (duration: 20.80s)
 BlockLoopControl: Calculating time range for block "Block 6" with lines [19,20,21,22,23,24,25,26]
 BlockLoopControl: Available markers count: 49
 BlockLoopControl: Block line range: 19 to 26
 BlockLoopControl: Found start marker for line 19: 119.61s
 BlockLoopControl: Searching for end marker after line 26
 BlockLoopControl: Found end marker (first of next block) for line 27: 140.41s
 BlockLoopControl: Block "Block 6" LOOP BOUNDS: START=119.61s END=140.41s (duration: 20.80s)
    Current time range: 119.606s - 140.406s
    New time range: 119.606s - 140.406s
    Time difference: 0.000s
    Same time range: true
 ✅ SAME BLOCK CONFIRMED: Not stopping loop - this is the same block
 🔍 LOOP DIAGNOSTIC #4800:
      Current: 125.080s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 6.886s
      Audio State: playing
 ✅ LOOP SAFE: 5.1s until loop end
 🔇 Глубокая тишина - очистка нот
 🛑 Принудительная остановка всех нот (deep_silence), активных: 1
 🔍 LOOP DIAGNOSTIC #4810:
      Current: 125.480s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 7.388s
      Audio State: playing
 ✅ LOOP SAFE: 4.7s until loop end
 🔇 Глубокая тишина - очистка нот
 🛑 Принудительная остановка всех нот (deep_silence), активных: 1
 🔍 LOOP DIAGNOSTIC #4820:
      Current: 125.847s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 7.838s
      Audio State: playing
 ✅ LOOP SAFE: 4.3s until loop end
 🔍 LOOP DIAGNOSTIC #4830:
      Current: 126.239s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 8.339s
      Audio State: playing
 ✅ LOOP SAFE: 3.9s until loop end
 🔇 Глубокая тишина - очистка нот
 🛑 Принудительная остановка всех нот (deep_silence), активных: 1
 🔍 LOOP DIAGNOSTIC #4840:
      Current: 126.641s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 8.847s
      Audio State: playing
 ✅ LOOP SAFE: 3.5s until loop end
 🚫 Блокирована очевидная гармоника: 128.9Hz (0.51x от 253.6Hz, ясность: 86.2%)
 🚫 Блокирована очевидная гармоника: 129.0Hz (0.51x от 253.6Hz, ясность: 88.1%)
 🎯 Высокая ясность (90.1%) - принимаем возможную гармонику: 128.5Hz
 ✅ Октавный переход разрешен: 253.6Hz → 128.5Hz за 343мс (ratio: 0.51)
 🚫 Блокирована очевидная гармоника: 258.1Hz (2.00x от 129.0Hz, ясность: 81.9%)
 🚫 Блокирована очевидная гармоника: 259.0Hz (2.01x от 129.0Hz, ясность: 84.4%)
 🚫 Блокирована очевидная гармоника: 258.0Hz (2.00x от 129.0Hz, ясность: 86.6%)
 🚫 Блокирована очевидная гармоника: 255.4Hz (1.98x от 129.0Hz, ясность: 87.1%)
 🚫 Блокирована очевидная гармоника: 255.0Hz (1.98x от 129.0Hz, ясность: 80.3%)
 ✅ Октавный переход разрешен: 129.0Hz → 252.0Hz за 122мс (ratio: 1.95)
 Key pressed: MetaLeft
 Key pressed: Meta, key code: 91, waveform active: false
 Key pressed: ShiftLeft
 Key pressed: Shift, key code: 16, waveform active: false
 LoopBlockManager: Shift key pressed, multiple selection mode active
 🔍 LOOP DIAGNOSTIC #4850:
      Current: 127.055s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 9.352s
      Audio State: playing
 ✅ LOOP SAFE: 3.1s until loop end
 LoopBlockManager: Shift key released, multiple selection mode deactivated
 Rehearsal: Line changing from 21 to 22
 🔧 Block "Block 1": original=[0,1,2,3,4,5,6,7], sorted=[0,1,2,3,4,5,6,7]
 🔧 Block "Block 2": original=[8,9,10,11], sorted=[8,9,10,11]
 🔧 Block "Block 3": original=[12,13,14,15,16], sorted=[12,13,14,15,16]
 🔧 Block "Block 4": original=[17], sorted=[17]
 🔧 Block "Block 5": original=[18], sorted=[18]
 🔧 Block "Block 6": original=[19,20,21,22,23,24,25,26], sorted=[19,20,21,22,23,24,25,26]
 🔧 Block "Block 7": original=[27,28,29,30,31], sorted=[27,28,29,30,31]
 🔧 Block "Block 8": original=[32], sorted=[32]
 🔧 Block "Block 9": original=[33], sorted=[33]
 🔧 Block "Block 10": original=[34,35,36,37,38,39,40,41,42], sorted=[34,35,36,37,38,39,40,41,42]
 Splitting block "Block 10" (9 lines) into 2 parts with ~5 lines each
   Part 1: lines 0-4 (5 lines)
   Part 2: lines 5-8 (4 lines)
 🔧 Block "Block 11": original=[43], sorted=[43]
 🔧 Block "Block 12": original=[44], sorted=[44]
 🔧 Block "Block 13": original=[45], sorted=[45]
 🔧 Block "Block 14": original=[46], sorted=[46]
 🔧 Block "Block 15": original=[47,48], sorted=[47,48]
 Rehearsal: Current line 21 belongs to block: 5 Array(8)
 Rehearsal: New line 22 belongs to block: 5 Array(8)
 Rehearsal: Same block (5), updating active line from 21 to 22
 [SETACTIVE] Called with index 22. Current style: rehearsal
 Rehearsal mode: Setting active line 22
 Activating rehearsal line at index 22
 📡 BLOCK CHANGE EVENT received
    Current loop block: Block 6 (ID: 5)
    New active block: Block 6 (ID: 5)
    Loop is active: true
    Seeking in progress: false
 🎯 LOOP IS ACTIVE: Checking user boundaries
    DragBoundaryController exists: true
    DragBoundaryController is active: true
    Has user defined boundaries: true
 🎯 USER BOUNDARY DETAILED CHECK:
    Current line index: -1
    Boundaries object: Object
 🎯 BOUNDARY VALIDATION:
    Current block lines: [19,20,21,22,23,24,25,26]
    User boundaries: 19 - 22
    Boundaries in current block: true
 🎯 USER BOUNDARY CHECK:
    Current line: -1
    User boundaries: 19 - 22
    Within boundaries: false
 🚨 LINE OUTSIDE USER BOUNDARIES: Line -1 is outside user range 19-22, checking other conditions
    Same block ID: true
    Same block name: true
    Current block lines: [19,20,21,22,23,24,25,26]
    New block lines: [19,20,21,22,23,24,25,26]
    Same lines: true
 BlockLoopControl: Calculating time range for block "Block 6" with lines [19,20,21,22,23,24,25,26]
 BlockLoopControl: Available markers count: 49
 BlockLoopControl: Block line range: 19 to 26
 BlockLoopControl: Found start marker for line 19: 119.61s
 BlockLoopControl: Searching for end marker after line 26
 BlockLoopControl: Found end marker (first of next block) for line 27: 140.41s
 BlockLoopControl: Block "Block 6" LOOP BOUNDS: START=119.61s END=140.41s (duration: 20.80s)
 BlockLoopControl: Calculating time range for block "Block 6" with lines [19,20,21,22,23,24,25,26]
 BlockLoopControl: Available markers count: 49
 BlockLoopControl: Block line range: 19 to 26
 BlockLoopControl: Found start marker for line 19: 119.61s
 BlockLoopControl: Searching for end marker after line 26
 BlockLoopControl: Found end marker (first of next block) for line 27: 140.41s
 BlockLoopControl: Block "Block 6" LOOP BOUNDS: START=119.61s END=140.41s (duration: 20.80s)
    Current time range: 119.606s - 140.406s
    New time range: 119.606s - 140.406s
    Time difference: 0.000s
    Same time range: true
 ✅ SAME BLOCK CONFIRMED: Not stopping loop - this is the same block
 🔍 LOOP DIAGNOSTIC #4860:
      Current: 127.441s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 9.838s
      Audio State: playing
 ✅ LOOP SAFE: 2.7s until loop end
 🔇 Глубокая тишина - очистка нот
 🛑 Принудительная остановка всех нот (deep_silence), активных: 1
 🔍 LOOP DIAGNOSTIC #4870:
      Current: 127.847s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 10.35s
      Audio State: playing
 ✅ LOOP SAFE: 2.3s until loop end
 Key pressed: MetaLeft
 Key pressed: Meta, key code: 91, waveform active: false
 Key pressed: ShiftLeft
 Key pressed: Shift, key code: 16, waveform active: false
 LoopBlockManager: Shift key pressed, multiple selection mode active
 🔇 Глубокая тишина - очистка нот
 🛑 Принудительная остановка всех нот (deep_silence), активных: 1
 🔍 LOOP DIAGNOSTIC #4880:
      Current: 128.247s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 10.846s
      Audio State: playing
 ✅ LOOP SAFE: 1.9s until loop end
 ✅ Октавный переход разрешен: 255.2Hz → 492.9Hz за 53мс (ratio: 1.93)
 🚫 Блокирована очевидная гармоника: 239.3Hz (0.49x от 492.9Hz, ясность: 86.2%)
 🚫 Октавный скачок заблокирован: 492.9Hz → 236.2Hz за 37мс (ratio: 0.48)
 ✅ Октавный переход разрешен: 492.9Hz → 234.9Hz за 54мс (ratio: 0.48)
 🎯 Высокая ясность (91.3%) - принимаем возможную гармонику: 478.2Hz
 ✅ Октавный переход разрешен: 241.5Hz → 478.2Hz за 63мс (ratio: 1.98)
 🎯 Высокая ясность (90.9%) - принимаем возможную гармонику: 245.6Hz
 🚫 Октавный скачок заблокирован: 478.1Hz → 245.6Hz за 33мс (ratio: 0.51)
 ✅ Октавный переход разрешен: 478.1Hz → 235.5Hz за 51мс (ratio: 0.49)
 🔍 LOOP DIAGNOSTIC #4890:
      Current: 128.655s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 11.351s
      Audio State: playing
 ✅ LOOP SAFE: 1.5s until loop end
 ✅ Октавный переход разрешен: 231.2Hz → 452.8Hz за 93мс (ratio: 1.96)
 🔍 LOOP DIAGNOSTIC #4900:
      Current: 129.001s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 11.787s
      Audio State: playing
 ✅ LOOP SAFE: 1.1s until loop end
 🚫 Октавный скачок заблокирован: 452.8Hz → 233.9Hz за 21мс (ratio: 0.52)
 🚫 Октавный скачок заблокирован: 452.8Hz → 233.6Hz за 34мс (ratio: 0.52)
 ✅ Октавный переход разрешен: 452.8Hz → 231.8Hz за 51мс (ratio: 0.51)
 🔍 LOOP DIAGNOSTIC #4910:
      Current: 129.423s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 12.308s
      Audio State: playing
 🔍 LOOP DIAGNOSTIC #4920:
      Current: 129.816s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 12.807s
      Audio State: playing
 🚀 PRE-JUMP PREPARATION at 129.999s (0.133s until end)
 🚨 LOOP PRE-JUMP TRIGGERED at 129.999s
     Time since last jump: 13.0s
     Jump allowed: true (min interval: 1.2s)
     Currently seeking: false
 🎯 JUMP TARGET VALIDATION:
     Target time: 119.606s
     Target line: 19
     Current block lines: [19,20,21,22,23,24,25,26]
     Block contains target: true
 🔄 EXECUTING PRE-JUMP LOOP JUMP: 129.999s → 119.606s (target: 119.616s)
 🔒 SEEK STARTED: isSeekingInProgress = true
    Executing setCurrentTime(119.616)
    Time before seek: 129.999s
 ⏰ СИНХРО: Позиция установлена 119.62с
 Rehearsal: Line changing from 22 to 19
 🔧 Block "Block 1": original=[0,1,2,3,4,5,6,7], sorted=[0,1,2,3,4,5,6,7]
 🔧 Block "Block 2": original=[8,9,10,11], sorted=[8,9,10,11]
 🔧 Block "Block 3": original=[12,13,14,15,16], sorted=[12,13,14,15,16]
 🔧 Block "Block 4": original=[17], sorted=[17]
 🔧 Block "Block 5": original=[18], sorted=[18]
 🔧 Block "Block 6": original=[19,20,21,22,23,24,25,26], sorted=[19,20,21,22,23,24,25,26]
 🔧 Block "Block 7": original=[27,28,29,30,31], sorted=[27,28,29,30,31]
 🔧 Block "Block 8": original=[32], sorted=[32]
 🔧 Block "Block 9": original=[33], sorted=[33]
 🔧 Block "Block 10": original=[34,35,36,37,38,39,40,41,42], sorted=[34,35,36,37,38,39,40,41,42]
 Splitting block "Block 10" (9 lines) into 2 parts with ~5 lines each
   Part 1: lines 0-4 (5 lines)
   Part 2: lines 5-8 (4 lines)
 🔧 Block "Block 11": original=[43], sorted=[43]
 🔧 Block "Block 12": original=[44], sorted=[44]
 🔧 Block "Block 13": original=[45], sorted=[45]
 🔧 Block "Block 14": original=[46], sorted=[46]
 🔧 Block "Block 15": original=[47,48], sorted=[47,48]
 Rehearsal: Current line 22 belongs to block: 5 Array(8)
 Rehearsal: New line 19 belongs to block: 5 Array(8)
 Rehearsal: Same block (5), updating active line from 22 to 19
 [SETACTIVE] Called with index 19. Current style: rehearsal
 Rehearsal mode: Setting active line 19
 Activating rehearsal line at index 19
 📡 BLOCK CHANGE EVENT received
    Current loop block: Block 6 (ID: 5)
    New active block: Block 6 (ID: 5)
    Loop is active: true
    Seeking in progress: true
 🔒 IGNORING BLOCK CHANGE: Seek in progress, this is likely caused by the loop jump
 🔒 LOOP CHECKS BLOCKED: Seek in progress for 54ms
 🔒 LOOP CHECKS BLOCKED: Seek in progress for 97ms
 🔒 LOOP CHECKS BLOCKED: Seek in progress for 146ms
 🔒 LOOP CHECKS BLOCKED: Seek in progress for 197ms
 🔒 LOOP CHECKS BLOCKED: Seek in progress for 247ms
 🔒 LOOP CHECKS BLOCKED: Seek in progress for 300ms
 ⚠️ PRIMARY SEEK TIMEOUT: Forcing isSeekingInProgress = false after 300ms
(анонимная) @ block-loop-control.js:664
 🔇 Глубокая тишина - очистка нот
 🛑 Принудительная остановка всех нот (deep_silence), активных: 1
 🔍 LOOP DIAGNOSTIC #4940:
      Current: 120.191s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 0.734s
      Audio State: playing
 ✅ LOOP SAFE: 9.9s until loop end
 🚫 Блокирована очевидная гармоника: 237.4Hz (0.49x от 480.7Hz, ясность: 89.7%)
 🎯 Высокая ясность (92.0%) - принимаем возможную гармонику: 235.9Hz
 🚫 Октавный скачок заблокирован: 480.7Hz → 235.9Hz за 36мс (ratio: 0.49)
 ✅ Октавный переход разрешен: 480.7Hz → 235.0Hz за 51мс (ratio: 0.49)
 🔍 LOOP DIAGNOSTIC #4950:
      Current: 120.599s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 1.256s
      Audio State: playing
 ✅ LOOP SAFE: 9.5s until loop end
 🔍 LOOP DIAGNOSTIC #4960:
      Current: 120.986s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 1.737s
      Audio State: playing
 ✅ LOOP SAFE: 9.1s until loop end
 🔇 Глубокая тишина - очистка нот
 🛑 Принудительная остановка всех нот (deep_silence), активных: 1
 🔍 LOOP DIAGNOSTIC #4970:
      Current: 121.386s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 2.238s
      Audio State: playing
 ✅ LOOP SAFE: 8.7s until loop end
 🔇 Глубокая тишина - очистка нот
 🛑 Принудительная остановка всех нот (deep_silence), активных: 1
 🔍 LOOP DIAGNOSTIC #4980:
      Current: 121.759s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 2.699s
      Audio State: playing
 ✅ LOOP SAFE: 8.4s until loop end
 🎯 Высокая ясность (90.4%) - принимаем возможную гармонику: 496.9Hz
 ✅ Октавный переход разрешен: 250.1Hz → 496.9Hz за 44мс (ratio: 1.99)
 🎯 Высокая ясность (93.5%) - принимаем возможную гармонику: 247.0Hz
 🚫 Октавный скачок заблокирован: 490.1Hz → 247.0Hz за 40мс (ratio: 0.50)
 ✅ Октавный переход разрешен: 490.1Hz → 245.9Hz за 56мс (ratio: 0.50)
 🔇 Глубокая тишина - очистка нот
 🛑 Принудительная остановка всех нот (deep_silence), активных: 1
 🔍 LOOP DIAGNOSTIC #4990:
      Current: 122.167s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 3.213s
      Audio State: playing
 ✅ LOOP SAFE: 8.0s until loop end
 Rehearsal: Line changing from 19 to 20
 🔧 Block "Block 1": original=[0,1,2,3,4,5,6,7], sorted=[0,1,2,3,4,5,6,7]
 🔧 Block "Block 2": original=[8,9,10,11], sorted=[8,9,10,11]
 🔧 Block "Block 3": original=[12,13,14,15,16], sorted=[12,13,14,15,16]
 🔧 Block "Block 4": original=[17], sorted=[17]
 🔧 Block "Block 5": original=[18], sorted=[18]
 🔧 Block "Block 6": original=[19,20,21,22,23,24,25,26], sorted=[19,20,21,22,23,24,25,26]
 🔧 Block "Block 7": original=[27,28,29,30,31], sorted=[27,28,29,30,31]
 🔧 Block "Block 8": original=[32], sorted=[32]
 🔧 Block "Block 9": original=[33], sorted=[33]
 🔧 Block "Block 10": original=[34,35,36,37,38,39,40,41,42], sorted=[34,35,36,37,38,39,40,41,42]
 Splitting block "Block 10" (9 lines) into 2 parts with ~5 lines each
   Part 1: lines 0-4 (5 lines)
   Part 2: lines 5-8 (4 lines)
 🔧 Block "Block 11": original=[43], sorted=[43]
 🔧 Block "Block 12": original=[44], sorted=[44]
 🔧 Block "Block 13": original=[45], sorted=[45]
 🔧 Block "Block 14": original=[46], sorted=[46]
 🔧 Block "Block 15": original=[47,48], sorted=[47,48]
 Rehearsal: Current line 19 belongs to block: 5 Array(8)
 Rehearsal: New line 20 belongs to block: 5 Array(8)
 Rehearsal: Same block (5), updating active line from 19 to 20
 [SETACTIVE] Called with index 20. Current style: rehearsal
 Rehearsal mode: Setting active line 20
 Activating rehearsal line at index 20
 📡 BLOCK CHANGE EVENT received
    Current loop block: Block 6 (ID: 5)
    New active block: Block 6 (ID: 5)
    Loop is active: true
    Seeking in progress: false
 ✅ SEEK BUFFER EXPIRED: 2956ms since seek, processing block change
 🎯 LOOP IS ACTIVE: Checking user boundaries
    DragBoundaryController exists: true
    DragBoundaryController is active: true
    Has user defined boundaries: true
 🎯 USER BOUNDARY DETAILED CHECK:
    Current line index: -1
    Boundaries object: Object
 🎯 BOUNDARY VALIDATION:
    Current block lines: [19,20,21,22,23,24,25,26]
    User boundaries: 19 - 22
    Boundaries in current block: true
 🎯 USER BOUNDARY CHECK:
    Current line: -1
    User boundaries: 19 - 22
    Within boundaries: false
 🚨 LINE OUTSIDE USER BOUNDARIES: Line -1 is outside user range 19-22, checking other conditions
    Same block ID: true
    Same block name: true
    Current block lines: [19,20,21,22,23,24,25,26]
    New block lines: [19,20,21,22,23,24,25,26]
    Same lines: true
 BlockLoopControl: Calculating time range for block "Block 6" with lines [19,20,21,22,23,24,25,26]
 BlockLoopControl: Available markers count: 49
 BlockLoopControl: Block line range: 19 to 26
 BlockLoopControl: Found start marker for line 19: 119.61s
 BlockLoopControl: Searching for end marker after line 26
 BlockLoopControl: Found end marker (first of next block) for line 27: 140.41s
 BlockLoopControl: Block "Block 6" LOOP BOUNDS: START=119.61s END=140.41s (duration: 20.80s)
 BlockLoopControl: Calculating time range for block "Block 6" with lines [19,20,21,22,23,24,25,26]
 BlockLoopControl: Available markers count: 49
 BlockLoopControl: Block line range: 19 to 26
 BlockLoopControl: Found start marker for line 19: 119.61s
 BlockLoopControl: Searching for end marker after line 26
 BlockLoopControl: Found end marker (first of next block) for line 27: 140.41s
 BlockLoopControl: Block "Block 6" LOOP BOUNDS: START=119.61s END=140.41s (duration: 20.80s)
    Current time range: 119.606s - 140.406s
    New time range: 119.606s - 140.406s
    Time difference: 0.000s
    Same time range: true
 ✅ SAME BLOCK CONFIRMED: Not stopping loop - this is the same block
 🔇 Глубокая тишина - очистка нот
 🛑 Принудительная остановка всех нот (deep_silence), активных: 1
 🔍 LOOP DIAGNOSTIC #5000:
      Current: 122.551s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 3.695s
      Audio State: playing
 ✅ LOOP SAFE: 7.6s until loop end
 🔍 LOOP DIAGNOSTIC #5010:
      Current: 122.953s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 4.197s
      Audio State: playing
 ✅ LOOP SAFE: 7.2s until loop end
 🔇 Глубокая тишина - очистка нот
 🛑 Принудительная остановка всех нот (deep_silence), активных: 1
 🚫 Блокирована очевидная гармоника: 494.6Hz (2.00x от 247.0Hz, ясность: 84.2%)
 🔍 LOOP DIAGNOSTIC #5020:
      Current: 123.311s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 4.641s
      Audio State: playing
 ✅ LOOP SAFE: 6.8s until loop end
 Key pressed: Space
 Space bar pressed, toggling playback
 ⏸️ ИНСТРУМЕНТАЛ: Пауза
 ⏸️ ВОКАЛ: Пауза
 isPlaying property set to: false
 Key pressed:  , key code: 32, waveform active: false
 🔍 Статический анализ: 234.0Hz (66.5%)
 🔍 LOOP DIAGNOSTIC #5030:
      Current: 123.423s
rtf-parser.js:849      Loop Range: 119.606s - 130.132s
rtf-parser.js:849      End Threshold: 130.082s
rtf-parser.js:849      Time Since Last Jump: 5.135s
rtf-parser.js:849      Audio State: paused
rtf-parser.js:849 ✅ LOOP SAFE: 6.7s until loop end
rtf-parser.js:849 🔍 LOOP DIAGNOSTIC #5040:
rtf-parser.js:849      Current: 123.423s
rtf-parser.js:849      Loop Range: 119.606s - 130.132s
rtf-parser.js:849      End Threshold: 130.082s
rtf-parser.js:849      Time Since Last Jump: 5.635s
rtf-parser.js:849      Audio State: paused
rtf-parser.js:849 ✅ LOOP SAFE: 6.7s until loop end
rtf-parser.js:849 🔍 LOOP DIAGNOSTIC #5050:
rtf-parser.js:849      Current: 123.423s
rtf-parser.js:849      Loop Range: 119.606s - 130.132s
rtf-parser.js:849      End Threshold: 130.082s
rtf-parser.js:849      Time Since Last Jump: 6.134s
rtf-parser.js:849      Audio State: paused
rtf-parser.js:849 ✅ LOOP SAFE: 6.7s until loop end
rtf-parser.js:849 ✅ AUTO RECOVERY: Loop health OK (check #5060)
rtf-parser.js:849    Loop active: true
rtf-parser.js:849    Current time: 123.4s
rtf-parser.js:849    Loop range: 119.6s - 130.1s
rtf-parser.js:849 🔍 LOOP DIAGNOSTIC #5070:
rtf-parser.js:849      Current: 123.423s
rtf-parser.js:849      Loop Range: 119.606s - 130.132s
rtf-parser.js:849      End Threshold: 130.082s
rtf-parser.js:849      Time Since Last Jump: 7.09s
rtf-parser.js:849      Audio State: paused
rtf-parser.js:849 ✅ LOOP SAFE: 6.7s until loop end
rtf-parser.js:849 Key pressed: AltLeft
rtf-parser.js:849 Key pressed: Alt, key code: 18, waveform active: false
rtf-parser.js:849 Key pressed: MetaLeft
rtf-parser.js:849 Key pressed: Meta, key code: 91, waveform active: false
rtf-parser.js:849 🔍 LOOP DIAGNOSTIC #5080:
rtf-parser.js:849      Current: 123.423s
rtf-parser.js:849      Loop Range: 119.606s - 130.132s
rtf-parser.js:849      End Threshold: 130.082s
rtf-parser.js:849      Time Since Last Jump: 7.596s
rtf-parser.js:849      Audio State: paused
rtf-parser.js:849 ✅ LOOP SAFE: 6.7s until loop end
rtf-parser.js:849 Key pressed: KeyJ
rtf-parser.js:849 Key pressed: j, key code: 74, waveform active: false
rtf-parser.js:849 🔍 LOOP DIAGNOSTIC #5090:
rtf-parser.js:849      Current: 123.423s
rtf-parser.js:849      Loop Range: 119.606s - 130.132s
rtf-parser.js:849      End Threshold: 130.082s
rtf-parser.js:849      Time Since Last Jump: 8.336s
rtf-parser.js:849      Audio State: paused
rtf-parser.js:849 ✅ LOOP SAFE: 6.7s until loop end
rtf-parser.js:849 🔍 LOOP DIAGNOSTIC #5100:
rtf-parser.js:849      Current: 123.423s
rtf-parser.js:849      Loop Range: 119.606s - 130.132s
rtf-parser.js:849      End Threshold: 130.082s
rtf-parser.js:849      Time Since Last Jump: 8.792s
rtf-parser.js:849      Audio State: paused
rtf-parser.js:849 ✅ LOOP SAFE: 6.7s until loop end
rtf-parser.js:849 🔍 LOOP DIAGNOSTIC #5110:
rtf-parser.js:849      Current: 123.423s
rtf-parser.js:849      Loop Range: 119.606s - 130.132s
rtf-parser.js:849      End Threshold: 130.082s
rtf-parser.js:849      Time Since Last Jump: 9.285s
rtf-parser.js:849      Audio State: paused
rtf-parser.js:849 ✅ LOOP SAFE: 6.7s until loop end
waveform-editor.js:1458 WaveformEditor: Vocal audio data not available
_drawWaveformData @ waveform-editor.js:1458
rtf-parser.js:849 🔍 LOOP DIAGNOSTIC #5120:
rtf-parser.js:849      Current: 123.423s
rtf-parser.js:849      Loop Range: 119.606s - 130.132s
rtf-parser.js:849      End Threshold: 130.082s
rtf-parser.js:849      Time Since Last Jump: 9.837s
rtf-parser.js:849      Audio State: paused
rtf-parser.js:849 ✅ LOOP SAFE: 6.7s until loop end
rtf-parser.js:849 🔍 LOOP DIAGNOSTIC #5130:
rtf-parser.js:849      Current: 123.423s
rtf-parser.js:849      Loop Range: 119.606s - 130.132s
rtf-parser.js:849      End Threshold: 130.082s
rtf-parser.js:849      Time Since Last Jump: 10.334s
rtf-parser.js:849      Audio State: paused
rtf-parser.js:849 ✅ LOOP SAFE: 6.7s until loop end
rtf-parser.js:849 🔍 LOOP DIAGNOSTIC #5140:
rtf-parser.js:849      Current: 123.423s
rtf-parser.js:849      Loop Range: 119.606s - 130.132s
rtf-parser.js:849      End Threshold: 130.082s
rtf-parser.js:849      Time Since Last Jump: 11.241s
rtf-parser.js:849      Audio State: paused
rtf-parser.js:849 ✅ LOOP SAFE: 6.7s until loop end
rtf-parser.js:849 🔍 LOOP DIAGNOSTIC #5150:
rtf-parser.js:849      Current: 123.423s
rtf-parser.js:849      Loop Range: 119.606s - 130.132s
rtf-parser.js:849      End Threshold: 130.082s
rtf-parser.js:849      Time Since Last Jump: 11.786s
rtf-parser.js:849      Audio State: paused
rtf-parser.js:849 ✅ LOOP SAFE: 6.7s until loop end
rtf-parser.js:849 🔍 LOOP DIAGNOSTIC #5160:
rtf-parser.js:849      Current: 123.423s
rtf-parser.js:849      Loop Range: 119.606s - 130.132s
rtf-parser.js:849      End Threshold: 130.082s
rtf-parser.js:849      Time Since Last Jump: 12.294s
rtf-parser.js:849      Audio State: paused
rtf-parser.js:849 ✅ LOOP SAFE: 6.7s until loop end
rtf-parser.js:849 🔍 LOOP DIAGNOSTIC #5170:
rtf-parser.js:849      Current: 123.423s
rtf-parser.js:849      Loop Range: 119.606s - 130.132s
rtf-parser.js:849      End Threshold: 130.082s
rtf-parser.js:849      Time Since Last Jump: 12.744s
rtf-parser.js:849      Audio State: paused
rtf-parser.js:849 ✅ LOOP SAFE: 6.7s until loop end
rtf-parser.js:849 🔍 LOOP DIAGNOSTIC #5180:
rtf-parser.js:849      Current: 123.423s
rtf-parser.js:849      Loop Range: 119.606s - 130.132s
rtf-parser.js:849      End Threshold: 130.082s
rtf-parser.js:849      Time Since Last Jump: 13.27s
rtf-parser.js:849      Audio State: paused
rtf-parser.js:849 ✅ LOOP SAFE: 6.7s until loop end
rtf-parser.js:849 🔍 LOOP DIAGNOSTIC #5190:
rtf-parser.js:849      Current: 123.423s
rtf-parser.js:849      Loop Range: 119.606s - 130.132s
rtf-parser.js:849      End Threshold: 130.082s
rtf-parser.js:849      Time Since Last Jump: 13.739s
rtf-parser.js:849      Audio State: paused
rtf-parser.js:849 ✅ LOOP SAFE: 6.7s until loop end
rtf-parser.js:849 🔍 LOOP DIAGNOSTIC #5200:
rtf-parser.js:849      Current: 123.423s
rtf-parser.js:849      Loop Range: 119.606s - 130.132s
rtf-parser.js:849      End Threshold: 130.082s
rtf-parser.js:849      Time Since Last Jump: 14.262s
rtf-parser.js:849      Audio State: paused
rtf-parser.js:849 ✅ LOOP SAFE: 6.7s until loop end
rtf-parser.js:849 🔍 LOOP DIAGNOSTIC #5210:
rtf-parser.js:849      Current: 123.423s
rtf-parser.js:849      Loop Range: 119.606s - 130.132s
rtf-parser.js:849      End Threshold: 130.082s
rtf-parser.js:849      Time Since Last Jump: 14.814s
rtf-parser.js:849      Audio State: paused
rtf-parser.js:849 ✅ LOOP SAFE: 6.7s until loop end
rtf-parser.js:849 🔍 LOOP DIAGNOSTIC #5220:
rtf-parser.js:849      Current: 123.423s
rtf-parser.js:849      Loop Range: 119.606s - 130.132s
rtf-parser.js:849      End Threshold: 130.082s
rtf-parser.js:849      Time Since Last Jump: 15.342s
rtf-parser.js:849      Audio State: paused
rtf-parser.js:849 ✅ LOOP SAFE: 6.7s until loop end
rtf-parser.js:849 🔍 LOOP DIAGNOSTIC #5230:
rtf-parser.js:849      Current: 123.423s
rtf-parser.js:849      Loop Range: 119.606s - 130.132s
rtf-parser.js:849      End Threshold: 130.082s
      Time Since Last Jump: 15.836s
      Audio State: paused
 ✅ LOOP SAFE: 6.7s until loop end
 🔍 LOOP DIAGNOSTIC #5240:
      Current: 123.423s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 16.339s
      Audio State: paused
 ✅ LOOP SAFE: 6.7s until loop end
 🔍 LOOP DIAGNOSTIC #5250:
      Current: 123.423s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 16.786s
      Audio State: paused
 ✅ LOOP SAFE: 6.7s until loop end
 🔍 LOOP DIAGNOSTIC #5260:
      Current: 123.423s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 17.285s
      Audio State: paused
 ✅ LOOP SAFE: 6.7s until loop end
 🔍 LOOP DIAGNOSTIC #5270:
      Current: 123.423s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 17.787s
      Audio State: paused
 ✅ LOOP SAFE: 6.7s until loop end
 🔍 LOOP DIAGNOSTIC #5280:
      Current: 123.423s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 18.305s
      Audio State: paused
 ✅ LOOP SAFE: 6.7s until loop end
 🔍 LOOP DIAGNOSTIC #5290:
      Current: 123.423s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 18.749s
      Audio State: paused
 ✅ LOOP SAFE: 6.7s until loop end
 🔍 LOOP DIAGNOSTIC #5300:
      Current: 123.423s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 19.238s
      Audio State: paused
 ✅ LOOP SAFE: 6.7s until loop end
 🔍 LOOP DIAGNOSTIC #5310:
      Current: 123.423s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 19.762s
      Audio State: paused
 ✅ LOOP SAFE: 6.7s until loop end
 🔍 LOOP DIAGNOSTIC #5320:
      Current: 123.423s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 20.37s
      Audio State: paused
 ✅ LOOP SAFE: 6.7s until loop end
 🔍 LOOP DIAGNOSTIC #5330:
      Current: 123.423s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 20.789s
      Audio State: paused
 ✅ LOOP SAFE: 6.7s until loop end
 🔍 LOOP DIAGNOSTIC #5340:
      Current: 123.423s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 21.317s
      Audio State: paused
 ✅ LOOP SAFE: 6.7s until loop end
 🔍 LOOP DIAGNOSTIC #5350:
      Current: 123.423s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 21.787s
      Audio State: paused
 ✅ LOOP SAFE: 6.7s until loop end
 🔍 LOOP DIAGNOSTIC #5360:
      Current: 123.423s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 22.359s
      Audio State: paused
 ✅ LOOP SAFE: 6.7s until loop end
 🔍 LOOP DIAGNOSTIC #5370:
      Current: 123.423s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 22.799s
      Audio State: paused
 ✅ LOOP SAFE: 6.7s until loop end
 🔍 LOOP DIAGNOSTIC #5380:
      Current: 123.423s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 23.295s
      Audio State: paused
 ✅ LOOP SAFE: 6.7s until loop end
 🔍 LOOP DIAGNOSTIC #5390:
      Current: 123.423s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 23.817s
      Audio State: paused
 ✅ LOOP SAFE: 6.7s until loop end
 🔍 LOOP DIAGNOSTIC #5400:
      Current: 123.423s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 24.391s
      Audio State: paused
 ✅ LOOP SAFE: 6.7s until loop end
 🔍 LOOP DIAGNOSTIC #5410:
      Current: 123.423s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 24.841s
      Audio State: paused
 ✅ LOOP SAFE: 6.7s until loop end
 🔍 LOOP DIAGNOSTIC #5420:
      Current: 123.423s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 25.337s
      Audio State: paused
 ✅ LOOP SAFE: 6.7s until loop end
 🔍 LOOP DIAGNOSTIC #5430:
      Current: 123.423s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 25.836s
      Audio State: paused
 ✅ LOOP SAFE: 6.7s until loop end
 🔍 LOOP DIAGNOSTIC #5440:
      Current: 123.423s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 26.335s
      Audio State: paused
 ✅ LOOP SAFE: 6.7s until loop end
 🔍 LOOP DIAGNOSTIC #5450:
      Current: 123.423s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 26.79s
      Audio State: paused
 ✅ LOOP SAFE: 6.7s until loop end
 🔍 LOOP DIAGNOSTIC #5460:
      Current: 123.423s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 27.292s
      Audio State: paused
 ✅ LOOP SAFE: 6.7s until loop end
 🔍 LOOP DIAGNOSTIC #5470:
      Current: 123.423s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 27.793s
      Audio State: paused
 ✅ LOOP SAFE: 6.7s until loop end
 🔍 LOOP DIAGNOSTIC #5480:
      Current: 123.423s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 28.289s
      Audio State: paused
 ✅ LOOP SAFE: 6.7s until loop end
 🔍 LOOP DIAGNOSTIC #5490:
      Current: 123.423s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 28.816s
      Audio State: paused
 ✅ LOOP SAFE: 6.7s until loop end
 🔍 LOOP DIAGNOSTIC #5500:
      Current: 123.423s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 29.286s
      Audio State: paused
 ✅ LOOP SAFE: 6.7s until loop end
 🔍 LOOP DIAGNOSTIC #5510:
      Current: 123.423s
      Loop Range: 119.606s - 130.132s
      End Threshold: 130.082s
      Time Since Last Jump: 29.803s
      Audio State: paused
 ✅ LOOP SAFE: 6.7s until loop end
