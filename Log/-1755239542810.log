 🔧 Block "Block 8": original=[35,36,37,38,39,40,41,42], sorted=[35,36,37,38,39,40,41,42]
 🔧 Block "Block 9": original=[43,44,45,46], sorted=[43,44,45,46]
 Rehearsal: Current line 8 belongs to block: 2 Array(8)
 Rehearsal: New line 9 belongs to block: 2 Array(8)
 Rehearsal: Same block (2), updating active line from 8 to 9
 [SETACTIVE] Called with index 9. Current style: rehearsal
 Rehearsal mode: Setting active line 9
 Activating rehearsal line at index 9
 🔧 Block "Block 1": original=[0,1,2,3], sorted=[0,1,2,3]
 🔧 Block "Block 2": original=[4,5,6], sorted=[4,5,6]
 🔧 Block "Block 3": original=[7,8,9,10,11,12,13,14], sorted=[7,8,9,10,11,12,13,14]
 🔧 Block "Block 4": original=[15,16,17,18], sorted=[15,16,17,18]
 🔧 Block "Block 5": original=[19,20,21,22], sorted=[19,20,21,22]
 🔧 Block "Block 6": original=[23,24,25,26,27,28,29,30], sorted=[23,24,25,26,27,28,29,30]
 🔧 Block "Block 7": original=[31,32,33,34], sorted=[31,32,33,34]
 🔧 Block "Block 8": original=[35,36,37,38,39,40,41,42], sorted=[35,36,37,38,39,40,41,42]
 🔧 Block "Block 9": original=[43,44,45,46], sorted=[43,44,45,46]
 📡 BLOCK CHANGE EVENT received
    Current loop block: Block 1 (ID: block-1755239461490-0-bxmb4xg9cml)
    New active block: Block 3 (ID: 2)
    Loop is active: true
    Seeking in progress: false
 🎯 LOOP IS ACTIVE: Checking user boundaries
    DragBoundaryController exists: true
    DragBoundaryController is active: true
    Has user defined boundaries: false
 🎯 USER BOUNDARY DETAILED CHECK:
    Current line index: -1
    Boundaries object: Object
 🎯 BOUNDARY VALIDATION:
    Current block lines: [7,8,9,10,11,12,13,14]
    User boundaries: 7 - 14
    Boundaries in current block: true
 🎯 USER BOUNDARY CHECK:
    Current line: -1
    User boundaries: 7 - 14
    Within boundaries: false
 🚨 LINE OUTSIDE USER BOUNDARIES: Line -1 is outside user range 7-14, checking other conditions
 ✅ MULTI-LOOP CONTINUE (early guard): keep looping across linked blocks
 BlockLoopControl: _createLoopButtonForCurrentBlock called
 BlockLoopControl: lyricsDisplay.currentActiveBlock: Object
 BlockLoopControl: lyricsDisplay.textBlocks: Array(9)
 🔇 Глубокая тишина - очистка нот
 🛑 Принудительная остановка всех нот (deep_silence), активных: 1
 ✅ LOOP SAFE: 12.3s until loop end
 ✅ LOOP SAFE: 11.8s until loop end
 🔇 Глубокая тишина - очистка нот
 🛑 Принудительная остановка всех нот (deep_silence), активных: 1
 ✅ LOOP SAFE: 11.3s until loop end
 🔇 Глубокая тишина - очистка нот
 🛑 Принудительная остановка всех нот (deep_silence), активных: 1
 ✅ LOOP SAFE: 10.8s until loop end
 Rehearsal: Line changing from 9 to 10
 🔧 Block "Block 1": original=[0,1,2,3], sorted=[0,1,2,3]
 🔧 Block "Block 2": original=[4,5,6], sorted=[4,5,6]
 🔧 Block "Block 3": original=[7,8,9,10,11,12,13,14], sorted=[7,8,9,10,11,12,13,14]
 🔧 Block "Block 4": original=[15,16,17,18], sorted=[15,16,17,18]
 🔧 Block "Block 5": original=[19,20,21,22], sorted=[19,20,21,22]
 🔧 Block "Block 6": original=[23,24,25,26,27,28,29,30], sorted=[23,24,25,26,27,28,29,30]
 🔧 Block "Block 7": original=[31,32,33,34], sorted=[31,32,33,34]
 🔧 Block "Block 8": original=[35,36,37,38,39,40,41,42], sorted=[35,36,37,38,39,40,41,42]
 🔧 Block "Block 9": original=[43,44,45,46], sorted=[43,44,45,46]
 Rehearsal: Current line 9 belongs to block: 2 Array(8)
 Rehearsal: New line 10 belongs to block: 2 Array(8)
 Rehearsal: Same block (2), updating active line from 9 to 10
 [SETACTIVE] Called with index 10. Current style: rehearsal
 Rehearsal mode: Setting active line 10
 Activating rehearsal line at index 10
 🔧 Block "Block 1": original=[0,1,2,3], sorted=[0,1,2,3]
 🔧 Block "Block 2": original=[4,5,6], sorted=[4,5,6]
 🔧 Block "Block 3": original=[7,8,9,10,11,12,13,14], sorted=[7,8,9,10,11,12,13,14]
 🔧 Block "Block 4": original=[15,16,17,18], sorted=[15,16,17,18]
 🔧 Block "Block 5": original=[19,20,21,22], sorted=[19,20,21,22]
 🔧 Block "Block 6": original=[23,24,25,26,27,28,29,30], sorted=[23,24,25,26,27,28,29,30]
 🔧 Block "Block 7": original=[31,32,33,34], sorted=[31,32,33,34]
 🔧 Block "Block 8": original=[35,36,37,38,39,40,41,42], sorted=[35,36,37,38,39,40,41,42]
 🔧 Block "Block 9": original=[43,44,45,46], sorted=[43,44,45,46]
 📡 BLOCK CHANGE EVENT received
    Current loop block: Block 1 (ID: block-1755239461490-0-bxmb4xg9cml)
    New active block: Block 3 (ID: 2)
    Loop is active: true
    Seeking in progress: false
 🎯 LOOP IS ACTIVE: Checking user boundaries
    DragBoundaryController exists: true
    DragBoundaryController is active: true
    Has user defined boundaries: false
 🎯 USER BOUNDARY DETAILED CHECK:
    Current line index: -1
    Boundaries object: Object
 🎯 BOUNDARY VALIDATION:
    Current block lines: [7,8,9,10,11,12,13,14]
    User boundaries: 7 - 14
    Boundaries in current block: true
 🎯 USER BOUNDARY CHECK:
    Current line: -1
    User boundaries: 7 - 14
    Within boundaries: false
 🚨 LINE OUTSIDE USER BOUNDARIES: Line -1 is outside user range 7-14, checking other conditions
 ✅ MULTI-LOOP CONTINUE (early guard): keep looping across linked blocks
 BlockLoopControl: _createLoopButtonForCurrentBlock called
 BlockLoopControl: lyricsDisplay.currentActiveBlock: Object
 BlockLoopControl: lyricsDisplay.textBlocks: Array(9)
 🚫 Блокирована очевидная гармоника: 184.8Hz (0.51x от 360.8Hz, ясность: 85.2%)
 🚫 Блокирована очевидная гармоника: 184.8Hz (0.49x от 375.2Hz, ясность: 88.3%)
 🎯 Высокая ясность (93.3%) - принимаем возможную гармонику: 184.7Hz
 ✅ Октавный переход разрешен: 375.2Hz → 184.7Hz за 177мс (ratio: 0.49)
 🚫 Блокирована очевидная гармоника: 371.3Hz (2.01x от 184.7Hz, ясность: 86.9%)
 🚫 Блокирована очевидная гармоника: 372.7Hz (2.02x от 184.7Hz, ясность: 72.2%)
 ✅ LOOP SAFE: 10.3s until loop end
 🔇 Глубокая тишина - очистка нот
 🛑 Принудительная остановка всех нот (deep_silence), активных: 1
 🚫 Блокирована очевидная гармоника: 375.2Hz (1.99x от 188.4Hz, ясность: 86.0%)
 🚫 Блокирована очевидная гармоника: 372.7Hz (1.98x от 188.4Hz, ясность: 88.5%)
 🚫 Блокирована очевидная гармоника: 371.5Hz (1.97x от 188.4Hz, ясность: 88.2%)
 🚫 Блокирована очевидная гармоника: 371.5Hz (1.97x от 188.4Hz, ясность: 85.6%)
 🚫 Блокирована очевидная гармоника: 371.2Hz (1.97x от 188.4Hz, ясность: 84.3%)
 🚫 Блокирована очевидная гармоника: 372.5Hz (1.98x от 188.4Hz, ясность: 85.8%)
 ✅ Октавный переход разрешен: 188.4Hz → 371.0Hz за 166мс (ratio: 1.97)
 🎯 Высокая ясность (91.0%) - принимаем возможную гармонику: 184.4Hz
 ✅ Октавный переход разрешен: 370.3Hz → 184.4Hz за 51мс (ratio: 0.50)
 ✅ LOOP SAFE: 9.8s until loop end
 ✅ Октавный переход разрешен: 183.9Hz → 354.5Hz за 154мс (ratio: 1.93)
 🚫 Блокирована очевидная гармоника: 164.9Hz (0.49x от 336.0Hz, ясность: 78.9%)
 🚫 Блокирована очевидная гармоника: 82.2Hz (0.24x от 336.0Hz, ясность: 77.0%)
 🚫 Блокирована очевидная гармоника: 82.4Hz (0.25x от 336.0Hz, ясность: 84.1%)
 ✅ LOOP SAFE: 9.3s until loop end
 🚫 Блокирована очевидная гармоника: 164.4Hz (0.50x от 329.8Hz, ясность: 80.8%)
 🚫 Блокирована очевидная гармоника: 162.9Hz (0.49x от 329.9Hz, ясность: 72.8%)
 🚫 Блокирована очевидная гармоника: 81.5Hz (0.25x от 329.9Hz, ясность: 75.1%)
 🚫 Блокирована очевидная гармоника: 186.2Hz (0.50x от 373.3Hz, ясность: 87.2%)
 🎯 Высокая ясность (92.0%) - принимаем возможную гармонику: 187.0Hz
 ✅ Октавный переход разрешен: 376.4Hz → 187.0Hz за 146мс (ratio: 0.50)
 🚫 Блокирована очевидная гармоника: 375.8Hz (2.03x от 185.2Hz, ясность: 78.8%)
 ✅ Октавный переход разрешен: 185.2Hz → 376.3Hz за 154мс (ratio: 2.03)
 ✅ LOOP SAFE: 8.7s until loop end
 🚫 Блокирована очевидная гармоника: 757.9Hz (2.01x от 376.3Hz, ясность: 86.0%)
 Rehearsal: Line changing from 10 to 11
 🔧 Block "Block 1": original=[0,1,2,3], sorted=[0,1,2,3]
 🔧 Block "Block 2": original=[4,5,6], sorted=[4,5,6]
 🔧 Block "Block 3": original=[7,8,9,10,11,12,13,14], sorted=[7,8,9,10,11,12,13,14]
 🔧 Block "Block 4": original=[15,16,17,18], sorted=[15,16,17,18]
 🔧 Block "Block 5": original=[19,20,21,22], sorted=[19,20,21,22]
 🔧 Block "Block 6": original=[23,24,25,26,27,28,29,30], sorted=[23,24,25,26,27,28,29,30]
 🔧 Block "Block 7": original=[31,32,33,34], sorted=[31,32,33,34]
 🔧 Block "Block 8": original=[35,36,37,38,39,40,41,42], sorted=[35,36,37,38,39,40,41,42]
 🔧 Block "Block 9": original=[43,44,45,46], sorted=[43,44,45,46]
 Rehearsal: Current line 10 belongs to block: 2 Array(8)
 Rehearsal: New line 11 belongs to block: 2 Array(8)
 Rehearsal: Same block (2), updating active line from 10 to 11
 [SETACTIVE] Called with index 11. Current style: rehearsal
 Rehearsal mode: Setting active line 11
 Activating rehearsal line at index 11
 🔧 Block "Block 1": original=[0,1,2,3], sorted=[0,1,2,3]
 🔧 Block "Block 2": original=[4,5,6], sorted=[4,5,6]
 🔧 Block "Block 3": original=[7,8,9,10,11,12,13,14], sorted=[7,8,9,10,11,12,13,14]
 🔧 Block "Block 4": original=[15,16,17,18], sorted=[15,16,17,18]
 🔧 Block "Block 5": original=[19,20,21,22], sorted=[19,20,21,22]
 🔧 Block "Block 6": original=[23,24,25,26,27,28,29,30], sorted=[23,24,25,26,27,28,29,30]
 🔧 Block "Block 7": original=[31,32,33,34], sorted=[31,32,33,34]
 🔧 Block "Block 8": original=[35,36,37,38,39,40,41,42], sorted=[35,36,37,38,39,40,41,42]
 🔧 Block "Block 9": original=[43,44,45,46], sorted=[43,44,45,46]
 📡 BLOCK CHANGE EVENT received
    Current loop block: Block 1 (ID: block-1755239461490-0-bxmb4xg9cml)
    New active block: Block 3 (ID: 2)
    Loop is active: true
    Seeking in progress: false
 🎯 LOOP IS ACTIVE: Checking user boundaries
    DragBoundaryController exists: true
    DragBoundaryController is active: true
    Has user defined boundaries: false
 🎯 USER BOUNDARY DETAILED CHECK:
    Current line index: -1
    Boundaries object: Object
 🎯 BOUNDARY VALIDATION:
    Current block lines: [7,8,9,10,11,12,13,14]
    User boundaries: 7 - 14
    Boundaries in current block: true
 🎯 USER BOUNDARY CHECK:
    Current line: -1
    User boundaries: 7 - 14
    Within boundaries: false
 🚨 LINE OUTSIDE USER BOUNDARIES: Line -1 is outside user range 7-14, checking other conditions
 ✅ MULTI-LOOP CONTINUE (early guard): keep looping across linked blocks
 BlockLoopControl: _createLoopButtonForCurrentBlock called
 BlockLoopControl: lyricsDisplay.currentActiveBlock: Object
 BlockLoopControl: lyricsDisplay.textBlocks: Array(9)
 ✅ LOOP SAFE: 8.3s until loop end
 🔇 Глубокая тишина - очистка нот
 🛑 Принудительная остановка всех нот (deep_silence), активных: 1
 ✅ LOOP SAFE: 7.7s until loop end
 🔇 Глубокая тишина - очистка нот
 🛑 Принудительная остановка всех нот (deep_silence), активных: 1
 ✅ LOOP SAFE: 7.3s until loop end
 ✅ LOOP SAFE: 6.7s until loop end
 Rehearsal: Line changing from 11 to 12
 🔧 Block "Block 1": original=[0,1,2,3], sorted=[0,1,2,3]
 🔧 Block "Block 2": original=[4,5,6], sorted=[4,5,6]
 🔧 Block "Block 3": original=[7,8,9,10,11,12,13,14], sorted=[7,8,9,10,11,12,13,14]
 🔧 Block "Block 4": original=[15,16,17,18], sorted=[15,16,17,18]
 🔧 Block "Block 5": original=[19,20,21,22], sorted=[19,20,21,22]
 🔧 Block "Block 6": original=[23,24,25,26,27,28,29,30], sorted=[23,24,25,26,27,28,29,30]
 🔧 Block "Block 7": original=[31,32,33,34], sorted=[31,32,33,34]
 🔧 Block "Block 8": original=[35,36,37,38,39,40,41,42], sorted=[35,36,37,38,39,40,41,42]
 🔧 Block "Block 9": original=[43,44,45,46], sorted=[43,44,45,46]
 Rehearsal: Current line 11 belongs to block: 2 Array(8)
 Rehearsal: New line 12 belongs to block: 2 Array(8)
 Rehearsal: Same block (2), updating active line from 11 to 12
 [SETACTIVE] Called with index 12. Current style: rehearsal
 Rehearsal mode: Setting active line 12
 Activating rehearsal line at index 12
 🔧 Block "Block 1": original=[0,1,2,3], sorted=[0,1,2,3]
 🔧 Block "Block 2": original=[4,5,6], sorted=[4,5,6]
 🔧 Block "Block 3": original=[7,8,9,10,11,12,13,14], sorted=[7,8,9,10,11,12,13,14]
 🔧 Block "Block 4": original=[15,16,17,18], sorted=[15,16,17,18]
 🔧 Block "Block 5": original=[19,20,21,22], sorted=[19,20,21,22]
 🔧 Block "Block 6": original=[23,24,25,26,27,28,29,30], sorted=[23,24,25,26,27,28,29,30]
 🔧 Block "Block 7": original=[31,32,33,34], sorted=[31,32,33,34]
 🔧 Block "Block 8": original=[35,36,37,38,39,40,41,42], sorted=[35,36,37,38,39,40,41,42]
 🔧 Block "Block 9": original=[43,44,45,46], sorted=[43,44,45,46]
 📡 BLOCK CHANGE EVENT received
    Current loop block: Block 1 (ID: block-1755239461490-0-bxmb4xg9cml)
    New active block: Block 3 (ID: 2)
    Loop is active: true
    Seeking in progress: false
 🎯 LOOP IS ACTIVE: Checking user boundaries
    DragBoundaryController exists: true
    DragBoundaryController is active: true
    Has user defined boundaries: false
 🎯 USER BOUNDARY DETAILED CHECK:
    Current line index: -1
    Boundaries object: Object
 🎯 BOUNDARY VALIDATION:
    Current block lines: [7,8,9,10,11,12,13,14]
    User boundaries: 7 - 14
    Boundaries in current block: true
 🎯 USER BOUNDARY CHECK:
    Current line: -1
    User boundaries: 7 - 14
    Within boundaries: false
 🚨 LINE OUTSIDE USER BOUNDARIES: Line -1 is outside user range 7-14, checking other conditions
 ✅ MULTI-LOOP CONTINUE (early guard): keep looping across linked blocks
 BlockLoopControl: _createLoopButtonForCurrentBlock called
 BlockLoopControl: lyricsDisplay.currentActiveBlock: Object
 BlockLoopControl: lyricsDisplay.textBlocks: Array(9)
 🔇 Глубокая тишина - очистка нот
 🛑 Принудительная остановка всех нот (deep_silence), активных: 1
 ✅ LOOP SAFE: 6.2s until loop end
 🚫 Блокирована очевидная гармоника: 189.1Hz (0.50x от 376.7Hz, ясность: 75.9%)
 🚫 Блокирована очевидная гармоника: 188.6Hz (0.50x от 376.7Hz, ясность: 78.5%)
 🚫 Блокирована очевидная гармоника: 187.6Hz (0.50x от 376.7Hz, ясность: 71.9%)
 🚫 Блокирована очевидная гармоника: 185.7Hz (0.49x от 376.7Hz, ясность: 79.8%)
 🚫 Блокирована очевидная гармоника: 192.9Hz (0.50x от 385.5Hz, ясность: 88.9%)
 ✅ LOOP SAFE: 5.7s until loop end
 🚫 Блокирована очевидная гармоника: 186.5Hz (0.49x от 376.8Hz, ясность: 71.6%)
 🚫 Блокирована очевидная гармоника: 186.5Hz (0.49x от 376.8Hz, ясность: 73.8%)
 🚫 Блокирована очевидная гармоника: 186.5Hz (0.49x от 376.8Hz, ясность: 79.5%)
 🔇 Глубокая тишина - очистка нот
 🛑 Принудительная остановка всех нот (deep_silence), активных: 1
 ✅ LOOP SAFE: 5.2s until loop end
 🚫 Блокирована очевидная гармоника: 814.3Hz (3.93x от 207.3Hz, ясность: 78.8%)
 🎯 Высокая ясность (91.5%) - принимаем возможную гармонику: 413.0Hz
 ✅ Октавный переход разрешен: 207.3Hz → 413.0Hz за 86мс (ratio: 1.99)
 🚫 Блокирована очевидная гармоника: 206.8Hz (0.50x от 412.4Hz, ясность: 76.8%)
 🔇 Глубокая тишина - очистка нот
 🛑 Принудительная остановка всех нот (deep_silence), активных: 1
 🚫 Октавный скачок заблокирован: 636.0Hz → 335.9Hz за 17мс (ratio: 0.53)
 Rehearsal: Line changing from 12 to 13
 🔧 Block "Block 1": original=[0,1,2,3], sorted=[0,1,2,3]
 🔧 Block "Block 2": original=[4,5,6], sorted=[4,5,6]
 🔧 Block "Block 3": original=[7,8,9,10,11,12,13,14], sorted=[7,8,9,10,11,12,13,14]
 🔧 Block "Block 4": original=[15,16,17,18], sorted=[15,16,17,18]
 🔧 Block "Block 5": original=[19,20,21,22], sorted=[19,20,21,22]
 🔧 Block "Block 6": original=[23,24,25,26,27,28,29,30], sorted=[23,24,25,26,27,28,29,30]
 🔧 Block "Block 7": original=[31,32,33,34], sorted=[31,32,33,34]
 🔧 Block "Block 8": original=[35,36,37,38,39,40,41,42], sorted=[35,36,37,38,39,40,41,42]
 🔧 Block "Block 9": original=[43,44,45,46], sorted=[43,44,45,46]
 Rehearsal: Current line 12 belongs to block: 2 Array(8)
 Rehearsal: New line 13 belongs to block: 2 Array(8)
 Rehearsal: Same block (2), updating active line from 12 to 13
 [SETACTIVE] Called with index 13. Current style: rehearsal
 Rehearsal mode: Setting active line 13
 Activating rehearsal line at index 13
 🔧 Block "Block 1": original=[0,1,2,3], sorted=[0,1,2,3]
 🔧 Block "Block 2": original=[4,5,6], sorted=[4,5,6]
 🔧 Block "Block 3": original=[7,8,9,10,11,12,13,14], sorted=[7,8,9,10,11,12,13,14]
 🔧 Block "Block 4": original=[15,16,17,18], sorted=[15,16,17,18]
 🔧 Block "Block 5": original=[19,20,21,22], sorted=[19,20,21,22]
 🔧 Block "Block 6": original=[23,24,25,26,27,28,29,30], sorted=[23,24,25,26,27,28,29,30]
 🔧 Block "Block 7": original=[31,32,33,34], sorted=[31,32,33,34]
 🔧 Block "Block 8": original=[35,36,37,38,39,40,41,42], sorted=[35,36,37,38,39,40,41,42]
 🔧 Block "Block 9": original=[43,44,45,46], sorted=[43,44,45,46]
 📡 BLOCK CHANGE EVENT received
    Current loop block: Block 1 (ID: block-1755239461490-0-bxmb4xg9cml)
    New active block: Block 3 (ID: 2)
    Loop is active: true
    Seeking in progress: false
 🎯 LOOP IS ACTIVE: Checking user boundaries
    DragBoundaryController exists: true
    DragBoundaryController is active: true
    Has user defined boundaries: false
 🎯 USER BOUNDARY DETAILED CHECK:
    Current line index: -1
    Boundaries object: Object
 🎯 BOUNDARY VALIDATION:
    Current block lines: [7,8,9,10,11,12,13,14]
    User boundaries: 7 - 14
    Boundaries in current block: true
 🎯 USER BOUNDARY CHECK:
    Current line: -1
    User boundaries: 7 - 14
    Within boundaries: false
 🚨 LINE OUTSIDE USER BOUNDARIES: Line -1 is outside user range 7-14, checking other conditions
 ✅ MULTI-LOOP CONTINUE (early guard): keep looping across linked blocks
 BlockLoopControl: _createLoopButtonForCurrentBlock called
 BlockLoopControl: lyricsDisplay.currentActiveBlock: Object
 BlockLoopControl: lyricsDisplay.textBlocks: Array(9)
 ✅ LOOP SAFE: 4.2s until loop end
 🔇 Глубокая тишина - очистка нот
 🛑 Принудительная остановка всех нот (deep_silence), активных: 1
 🎯 Высокая ясность (94.3%) - принимаем возможную гармонику: 370.1Hz
 ✅ Октавный переход разрешен: 92.9Hz → 370.1Hz за 41мс (ratio: 3.98)
 🚫 Блокирована очевидная гармоника: 93.1Hz (0.25x от 370.7Hz, ясность: 89.0%)
 ✅ LOOP SAFE: 3.7s until loop end
 🚫 Блокирована очевидная гармоника: 752.4Hz (2.02x от 372.5Hz, ясность: 72.2%)
 🚫 Блокирована очевидная гармоника: 745.0Hz (2.00x от 372.5Hz, ясность: 81.8%)
 🚫 Блокирована очевидная гармоника: 93.1Hz (0.25x от 375.2Hz, ясность: 71.1%)
 🚫 Блокирована очевидная гармоника: 92.4Hz (0.25x от 374.8Hz, ясность: 85.7%)
 🚫 Блокирована очевидная гармоника: 92.3Hz (0.25x от 374.8Hz, ясность: 87.2%)
 🚫 Блокирована очевидная гармоника: 92.2Hz (0.25x от 374.8Hz, ясность: 86.6%)
 🚫 Блокирована очевидная гармоника: 92.3Hz (0.25x от 374.8Hz, ясность: 81.2%)
 🔇 Глубокая тишина - очистка нот
 🛑 Принудительная остановка всех нот (deep_silence), активных: 1
 ✅ LOOP SAFE: 3.2s until loop end
 ✅ Октавный переход разрешен: 330.6Hz → 66.4Hz за 146мс (ratio: 0.20)
 🔇 Глубокая тишина - очистка нот
 🛑 Принудительная остановка всех нот (deep_silence), активных: 1
 🚫 Блокирована очевидная гармоника: 373.7Hz (4.00x от 93.5Hz, ясность: 71.5%)
 ✅ Октавный переход разрешен: 728.8Hz → 376.8Hz за 65мс (ratio: 0.52)
 ✅ LOOP SAFE: 2.2s until loop end
 🚫 Блокирована очевидная гармоника: 734.8Hz (1.99x от 369.5Hz, ясность: 74.8%)
 Rehearsal: Line changing from 13 to 14
 🔧 Block "Block 1": original=[0,1,2,3], sorted=[0,1,2,3]
 🔧 Block "Block 2": original=[4,5,6], sorted=[4,5,6]
 🔧 Block "Block 3": original=[7,8,9,10,11,12,13,14], sorted=[7,8,9,10,11,12,13,14]
 🔧 Block "Block 4": original=[15,16,17,18], sorted=[15,16,17,18]
 🔧 Block "Block 5": original=[19,20,21,22], sorted=[19,20,21,22]
 🔧 Block "Block 6": original=[23,24,25,26,27,28,29,30], sorted=[23,24,25,26,27,28,29,30]
 🔧 Block "Block 7": original=[31,32,33,34], sorted=[31,32,33,34]
 🔧 Block "Block 8": original=[35,36,37,38,39,40,41,42], sorted=[35,36,37,38,39,40,41,42]
 🔧 Block "Block 9": original=[43,44,45,46], sorted=[43,44,45,46]
 Rehearsal: Current line 13 belongs to block: 2 Array(8)
 Rehearsal: New line 14 belongs to block: 2 Array(8)
 Rehearsal: Same block (2), updating active line from 13 to 14
 [SETACTIVE] Called with index 14. Current style: rehearsal
 Rehearsal mode: Setting active line 14
 Activating rehearsal line at index 14
 🔧 Block "Block 1": original=[0,1,2,3], sorted=[0,1,2,3]
 🔧 Block "Block 2": original=[4,5,6], sorted=[4,5,6]
 🔧 Block "Block 3": original=[7,8,9,10,11,12,13,14], sorted=[7,8,9,10,11,12,13,14]
 🔧 Block "Block 4": original=[15,16,17,18], sorted=[15,16,17,18]
 🔧 Block "Block 5": original=[19,20,21,22], sorted=[19,20,21,22]
 🔧 Block "Block 6": original=[23,24,25,26,27,28,29,30], sorted=[23,24,25,26,27,28,29,30]
 🔧 Block "Block 7": original=[31,32,33,34], sorted=[31,32,33,34]
 🔧 Block "Block 8": original=[35,36,37,38,39,40,41,42], sorted=[35,36,37,38,39,40,41,42]
 🔧 Block "Block 9": original=[43,44,45,46], sorted=[43,44,45,46]
 📡 BLOCK CHANGE EVENT received
    Current loop block: Block 1 (ID: block-1755239461490-0-bxmb4xg9cml)
    New active block: Block 3 (ID: 2)
    Loop is active: true
    Seeking in progress: false
 🎯 LOOP IS ACTIVE: Checking user boundaries
    DragBoundaryController exists: true
    DragBoundaryController is active: true
    Has user defined boundaries: false
 🎯 USER BOUNDARY DETAILED CHECK:
    Current line index: -1
    Boundaries object: Object
 🎯 BOUNDARY VALIDATION:
    Current block lines: [7,8,9,10,11,12,13,14]
    User boundaries: 7 - 14
    Boundaries in current block: true
 🎯 USER BOUNDARY CHECK:
    Current line: -1
    User boundaries: 7 - 14
    Within boundaries: false
 🚨 LINE OUTSIDE USER BOUNDARIES: Line -1 is outside user range 7-14, checking other conditions
 ✅ MULTI-LOOP CONTINUE (early guard): keep looping across linked blocks
 BlockLoopControl: _createLoopButtonForCurrentBlock called
 BlockLoopControl: lyricsDisplay.currentActiveBlock: Object
 BlockLoopControl: lyricsDisplay.textBlocks: Array(9)
 🔇 Глубокая тишина - очистка нот
 🛑 Принудительная остановка всех нот (deep_silence), активных: 1
 🚫 Блокирована очевидная гармоника: 93.0Hz (0.25x от 369.5Hz, ясность: 73.4%)
 ✅ LOOP SAFE: 1.7s until loop end
 ✅ LOOP SAFE: 1.1s until loop end
 🚫 Блокирована очевидная гармоника: 82.9Hz (0.25x от 335.1Hz, ясность: 78.6%)
 🚫 Блокирована очевидная гармоника: 83.0Hz (0.25x от 335.1Hz, ясность: 76.8%)
 🚫 Блокирована очевидная гармоника: 165.7Hz (0.49x от 335.1Hz, ясность: 75.2%)
 🚫 Блокирована очевидная гармоника: 165.4Hz (0.49x от 335.1Hz, ясность: 72.9%)
 🔇 Глубокая тишина - очистка нот
 🛑 Принудительная остановка всех нот (deep_silence), активных: 1
 🔇 Глубокая тишина - очистка нот
 🛑 Принудительная остановка всех нот (deep_silence), активных: 1
 🚫 Блокирована очевидная гармоника: 752.4Hz (2.02x от 372.3Hz, ясность: 89.1%)
 ✅ Октавный переход разрешен: 372.3Hz → 756.1Hz за 176мс (ratio: 2.03)
 🚫 Блокирована очевидная гармоника: 374.9Hz (0.50x от 756.1Hz, ясность: 81.0%)
 🚫 Блокирована очевидная гармоника: 375.8Hz (0.50x от 756.1Hz, ясность: 77.3%)
 🚀 PRE-JUMP PREPARATION at 69.527s (0.126s until end)
 🚨 LOOP PRE-JUMP TRIGGERED at 69.527s
     Time since last jump: Infinitys
     Jump allowed: true (min interval: 1.2s)
     Currently seeking: false
 🎯 JUMP TARGET VALIDATION:
     Target time: 21.352s
     Target line: 0
     Current block lines: [0,1,2,3]
     Block contains target: true
 🔄 EXECUTING PRE-JUMP LOOP JUMP: 69.527s → 21.352s (target: 21.362s)
 🔒 SEEK STARTED: isSeekingInProgress = true
    Executing setCurrentTime(21.362)
    Time before seek: 69.527s
 ⏰ СИНХРО: Позиция установлена 21.36с
 Rehearsal: Line changing from 14 to 0
 🔧 Block "Block 1": original=[0,1,2,3], sorted=[0,1,2,3]
 🔧 Block "Block 2": original=[4,5,6], sorted=[4,5,6]
 🔧 Block "Block 3": original=[7,8,9,10,11,12,13,14], sorted=[7,8,9,10,11,12,13,14]
 🔧 Block "Block 4": original=[15,16,17,18], sorted=[15,16,17,18]
 🔧 Block "Block 5": original=[19,20,21,22], sorted=[19,20,21,22]
 🔧 Block "Block 6": original=[23,24,25,26,27,28,29,30], sorted=[23,24,25,26,27,28,29,30]
 🔧 Block "Block 7": original=[31,32,33,34], sorted=[31,32,33,34]
 🔧 Block "Block 8": original=[35,36,37,38,39,40,41,42], sorted=[35,36,37,38,39,40,41,42]
 🔧 Block "Block 9": original=[43,44,45,46], sorted=[43,44,45,46]
 Rehearsal: Current line 14 belongs to block: 2 Array(8)
 Rehearsal: New line 0 belongs to block: block-1755239461490-0-bxmb4xg9cml Array(4)
 Rehearsal: *** BLOCK CHANGED *** from 2 to block-1755239461490-0-bxmb4xg9cml
 Rehearsal: Line changed from 14 to 0
 Rehearsal: Current block lines: Array(8)
 Rehearsal: New block lines: Array(4)
 🔧 Block "Block 1": original=[0,1,2,3], sorted=[0,1,2,3]
 🔧 Block "Block 2": original=[4,5,6], sorted=[4,5,6]
 🔧 Block "Block 3": original=[7,8,9,10,11,12,13,14], sorted=[7,8,9,10,11,12,13,14]
 🔧 Block "Block 4": original=[15,16,17,18], sorted=[15,16,17,18]
 🔧 Block "Block 5": original=[19,20,21,22], sorted=[19,20,21,22]
 🔧 Block "Block 6": original=[23,24,25,26,27,28,29,30], sorted=[23,24,25,26,27,28,29,30]
 🔧 Block "Block 7": original=[31,32,33,34], sorted=[31,32,33,34]
 🔧 Block "Block 8": original=[35,36,37,38,39,40,41,42], sorted=[35,36,37,38,39,40,41,42]
 🔧 Block "Block 9": original=[43,44,45,46], sorted=[43,44,45,46]
 Rehearsal: Current line: 0, Total blocks: 9
 Rehearsal: DETAILED Block structure:
   Block 0 (block-1755239461490-0-bxmb4xg9cml): name="Block 1", lines=[0,1,2,3]
     Content preview: "I'm tired of being what you want me to be
Feeling so faithless, lost under the surface
Don't know wh"
       Line 0: "I'm tired of being what you want me to be"
       Line 1: "Feeling so faithless, lost under the surface"
       Line 2: "Don't know what you're expecting of me"
       Line 3: "Put under the pressure of walking in your shoes"
   Block 1 (1): name="Block 2", lines=[4,5,6]
     Content preview: "Caught in the undertow, just caught in the undertow
Every step that I take is another mistake to you"
       Line 4: "Caught in the undertow, just caught in the undertow"
       Line 5: "Every step that I take is another mistake to you"
       Line 6: "Caught in the undertow, just caught in the undertow"
   Block 2 (2): name="Block 3", lines=[7,8,9,10,11,12,13,14]
     Content preview: "I've become so numb
I can't feel you there
Become so tired"
       Line 7: "I've become so numb"
       Line 8: "I can't feel you there"
       Line 9: "Become so tired"
       Line 10: "So much more aware"
       Line 11: "I'm becoming this"
       Line 12: "All I want to do"
       Line 13: "Is be more like me"
       Line 14: "And be less like you"
   Block 3 (3): name="Block 4", lines=[15,16,17,18]
     Content preview: "Can't you see that you're smothering me?
Holding too tightly, afraid to lose control
'Cause everythi"
       Line 15: "Can't you see that you're smothering me?"
       Line 16: "Holding too tightly, afraid to lose control"
       Line 17: "'Cause everything that you thought I would be"
       Line 18: "Has fallen apart right in front of you"
   Block 4 (4): name="Block 5", lines=[19,20,21,22]
     Content preview: "Caught in the undertow, just caught in the undertow
Every step that I take is another mistake to you"
       Line 19: "Caught in the undertow, just caught in the undertow"
       Line 20: "Every step that I take is another mistake to you"
       Line 21: "Caught in the undertow, just caught in the undertow"
       Line 22: "And every second I waste is more than I can take"
   Block 5 (5): name="Block 6", lines=[23,24,25,26,27,28,29,30]
     Content preview: "I've become so numb
I can't feel you there
Become so tired"
       Line 23: "I've become so numb"
       Line 24: "I can't feel you there"
       Line 25: "Become so tired"
       Line 26: "So much more aware"
       Line 27: "I'm becoming this"
       Line 28: "All I want to do"
       Line 29: "Is be more like me"
       Line 30: "And be less like you"
   Block 6 (6): name="Block 7", lines=[31,32,33,34]
     Content preview: "And I know
I may end up failing too
But I know"
       Line 31: "And I know"
       Line 32: "I may end up failing too"
       Line 33: "But I know"
       Line 34: "You were just like me with someone disappointed in you"
   Block 7 (7): name="Block 8", lines=[35,36,37,38,39,40,41,42]
     Content preview: "I've become so numb
I can't feel you there
Become so tired"
       Line 35: "I've become so numb"
       Line 36: "I can't feel you there"
       Line 37: "Become so tired"
       Line 38: "So much more aware"
       Line 39: "I'm becoming this"
       Line 40: "All I want to do"
       Line 41: "Is be more like me"
       Line 42: "And be less like you"
   Block 8 (8): name="Block 9", lines=[43,44,45,46]
     Content preview: "I've become so numb
I'm tired of being what you want me to be
I become so numb"
       Line 43: "I've become so numb"
       Line 44: "I'm tired of being what you want me to be"
       Line 45: "I become so numb"
       Line 46: "I'm tired of being what you want me to be"
 Rehearsal: Looking for block containing line 0
   Checking block 0: lineIndices=[0,1,2,3]
   ✓ Found! Block 0 contains line 0
 Rehearsal: Found active block at index 0 with lines: Array(4)
 Rehearsal: Active block 0: Object
 >>> FONT_CALC_DEBUG >>> Lines: 4, FontSize: 2.66rem, LineHeight: 3.23rem
 Rehearsal: Activated line 0 in block with transition: none
 Rehearsal: Next block preview for block 1: Object
 Rehearsal: Preview lines: Array(2)
 Rehearsal: Adding preview line 4: "Caught in the undertow, just caught in the undertow"
 Rehearsal: Adding preview line 5: "Every step that I take is another mistake to you"
 Rehearsal: Preview container added with 2 lines
 Rehearsal mode: Rendered active block 0 with next block preview
 BlockLoopControl: Обновление для текущего блока
 🔧 Block "Block 1": original=[0,1,2,3], sorted=[0,1,2,3]
 🔧 Block "Block 2": original=[4,5,6], sorted=[4,5,6]
 🔧 Block "Block 3": original=[7,8,9,10,11,12,13,14], sorted=[7,8,9,10,11,12,13,14]
 🔧 Block "Block 4": original=[15,16,17,18], sorted=[15,16,17,18]
 🔧 Block "Block 5": original=[19,20,21,22], sorted=[19,20,21,22]
 🔧 Block "Block 6": original=[23,24,25,26,27,28,29,30], sorted=[23,24,25,26,27,28,29,30]
 🔧 Block "Block 7": original=[31,32,33,34], sorted=[31,32,33,34]
 🔧 Block "Block 8": original=[35,36,37,38,39,40,41,42], sorted=[35,36,37,38,39,40,41,42]
 🔧 Block "Block 9": original=[43,44,45,46], sorted=[43,44,45,46]
 🎯 UPDATE BOUNDARY CHECK:
    Current line: -1
    User boundaries: 7 - 14
    Within boundaries: false
 🚨 LINE OUTSIDE USER BOUNDARIES (UPDATE): Line -1 is outside user range 7-14, checking other conditions
 ✅ MULTI-LOOP CONTINUE (update): staying in combined loop across blocks
 BlockLoopControl: _createLoopButtonForCurrentBlock called
 BlockLoopControl: lyricsDisplay.currentActiveBlock: Object
 BlockLoopControl: lyricsDisplay.textBlocks: Array(9)
 BlockLoopControl: Создаем кнопку для активного блока репетиции: Block 1
 BlockLoopControl: _createLoopButton called for block: Block 1
 BlockLoopControl: Кнопка удалена, drag boundaries остаются активными
 BlockLoopControl: blockElement found: true
 ✅ DragBoundaryController activated for block: Block 1
 📊 Block line indices: [0,1,2,3]
 🎯 Initial boundaries received: null
 ✅ Set default boundaries from sorted indices: start=0, end=3
 [DragBoundary] ✅ Применены переданные границы: Object
 [DragBoundary] 🎯 Создание интерактивных линий границ
 [DragBoundary] 📍 Блок: Block 1, границы: 0-3
 [DragBoundary] 📋 Найдено строк в блоке: 4
 [DragBoundary] 📝 Строка 0: data-index="0", текст: "I'm tired of being what you wa"
 [DragBoundary] 📝 Строка 1: data-index="1", текст: "Feeling so faithless, lost und"
 [DragBoundary] 📝 Строка 2: data-index="2", текст: "Don't know what you're expecti"
 [DragBoundary] 📝 Строка 3: data-index="3", текст: "Put under the pressure of walk"
 [DragBoundary] 🎯 Поиск startLine (index 0): ✅ найден
 [DragBoundary] 📝 StartLine текст: "I'm tired of being what you want me to be"
 [DragBoundary] 📐 StartLine rect: DOMRect
 [DragBoundary] 🎯 Поиск endLine (index 3): ✅ найден
 [DragBoundary] 📝 EndLine текст: "Put under the pressure of walking in your shoes"
 [DragBoundary] 📐 EndLine rect: DOMRect
 [DragBoundary] ✅ Создана стартовая линия для строки 0
 [DragBoundary] ✅ Создана конечная линия для строки 3
 [DragBoundary] ✅ Обе линии успешно созданы
 [DragBoundary] 📐 StartLine позиция: top=197.7421875, bottom=201.7421875
 [DragBoundary] 📐 EndLine позиция: top=457.0546875, bottom=461.0546875
 [DragBoundary] Обновлены визуальные состояния. Диапазон: 0-3
 [DragBoundary] ✅ Контроллер активирован
 BlockLoopControl: Создана кнопка для блока: Block 1
 🔧 Block "Block 1": original=[0,1,2,3], sorted=[0,1,2,3]
 🔧 Block "Block 2": original=[4,5,6], sorted=[4,5,6]
 🔧 Block "Block 3": original=[7,8,9,10,11,12,13,14], sorted=[7,8,9,10,11,12,13,14]
 🔧 Block "Block 4": original=[15,16,17,18], sorted=[15,16,17,18]
 🔧 Block "Block 5": original=[19,20,21,22], sorted=[19,20,21,22]
 🔧 Block "Block 6": original=[23,24,25,26,27,28,29,30], sorted=[23,24,25,26,27,28,29,30]
 🔧 Block "Block 7": original=[31,32,33,34], sorted=[31,32,33,34]
 🔧 Block "Block 8": original=[35,36,37,38,39,40,41,42], sorted=[35,36,37,38,39,40,41,42]
 🔧 Block "Block 9": original=[43,44,45,46], sorted=[43,44,45,46]
 🔧 Block "Block 1": original=[0,1,2,3], sorted=[0,1,2,3]
 🔧 Block "Block 2": original=[4,5,6], sorted=[4,5,6]
 🔧 Block "Block 3": original=[7,8,9,10,11,12,13,14], sorted=[7,8,9,10,11,12,13,14]
 🔧 Block "Block 4": original=[15,16,17,18], sorted=[15,16,17,18]
 🔧 Block "Block 5": original=[19,20,21,22], sorted=[19,20,21,22]
 🔧 Block "Block 6": original=[23,24,25,26,27,28,29,30], sorted=[23,24,25,26,27,28,29,30]
 🔧 Block "Block 7": original=[31,32,33,34], sorted=[31,32,33,34]
 🔧 Block "Block 8": original=[35,36,37,38,39,40,41,42], sorted=[35,36,37,38,39,40,41,42]
 🔧 Block "Block 9": original=[43,44,45,46], sorted=[43,44,45,46]
 🔧 Block "Block 1": original=[0,1,2,3], sorted=[0,1,2,3]
 🔧 Block "Block 2": original=[4,5,6], sorted=[4,5,6]
 🔧 Block "Block 3": original=[7,8,9,10,11,12,13,14], sorted=[7,8,9,10,11,12,13,14]
 🔧 Block "Block 4": original=[15,16,17,18], sorted=[15,16,17,18]
 🔧 Block "Block 5": original=[19,20,21,22], sorted=[19,20,21,22]
 🔧 Block "Block 6": original=[23,24,25,26,27,28,29,30], sorted=[23,24,25,26,27,28,29,30]
 🔧 Block "Block 7": original=[31,32,33,34], sorted=[31,32,33,34]
 🔧 Block "Block 8": original=[35,36,37,38,39,40,41,42], sorted=[35,36,37,38,39,40,41,42]
 🔧 Block "Block 9": original=[43,44,45,46], sorted=[43,44,45,46]
 BlockLoopControl: Кнопка создана для блока: Block 1
 BlockLoopControl: _createLoopButtonForCurrentBlock called
 BlockLoopControl: lyricsDisplay.currentActiveBlock: Object
 BlockLoopControl: lyricsDisplay.textBlocks: Array(9)
 🔧 Block "Block 1": original=[0,1,2,3], sorted=[0,1,2,3]
 🔧 Block "Block 2": original=[4,5,6], sorted=[4,5,6]
 🔧 Block "Block 3": original=[7,8,9,10,11,12,13,14], sorted=[7,8,9,10,11,12,13,14]
 🔧 Block "Block 4": original=[15,16,17,18], sorted=[15,16,17,18]
 🔧 Block "Block 5": original=[19,20,21,22], sorted=[19,20,21,22]
 🔧 Block "Block 6": original=[23,24,25,26,27,28,29,30], sorted=[23,24,25,26,27,28,29,30]
 🔧 Block "Block 7": original=[31,32,33,34], sorted=[31,32,33,34]
 🔧 Block "Block 8": original=[35,36,37,38,39,40,41,42], sorted=[35,36,37,38,39,40,41,42]
 🔧 Block "Block 9": original=[43,44,45,46], sorted=[43,44,45,46]
 🔧 Block "Block 1": original=[0,1,2,3], sorted=[0,1,2,3]
 🔧 Block "Block 2": original=[4,5,6], sorted=[4,5,6]
 🔧 Block "Block 3": original=[7,8,9,10,11,12,13,14], sorted=[7,8,9,10,11,12,13,14]
 🔧 Block "Block 4": original=[15,16,17,18], sorted=[15,16,17,18]
 🔧 Block "Block 5": original=[19,20,21,22], sorted=[19,20,21,22]
 🔧 Block "Block 6": original=[23,24,25,26,27,28,29,30], sorted=[23,24,25,26,27,28,29,30]
 🔧 Block "Block 7": original=[31,32,33,34], sorted=[31,32,33,34]
 🔧 Block "Block 8": original=[35,36,37,38,39,40,41,42], sorted=[35,36,37,38,39,40,41,42]
 🔧 Block "Block 9": original=[43,44,45,46], sorted=[43,44,45,46]
 🔒 LOOP CHECKS BLOCKED: Seek in progress for 102ms
 🔒 LOOP CHECKS BLOCKED: Seek in progress for 184ms
 🔒 LOOP CHECKS BLOCKED: Seek in progress for 203ms
 🔒 LOOP CHECKS BLOCKED: Seek in progress for 266ms
 🔇 Глубокая тишина - очистка нот
 🛑 Принудительная остановка всех нот (deep_silence), активных: 1
 🔒 LOOP CHECKS BLOCKED: Seek in progress for 301ms
 ⚠️ PRIMARY SEEK TIMEOUT: Forcing isSeekingInProgress = false after 300ms
(anonymous) @ block-loop-control.js:904
 ✅ LOOP SAFE: 47.9s until loop end
 ✅ LOOP SAFE: 47.4s until loop end
 ✅ LOOP SAFE: 46.9s until loop end
 ✅ LOOP SAFE: 46.4s until loop end
 ✅ LOOP SAFE: 45.9s until loop end
 🚫 Октавный скачок заблокирован: 208.7Hz → 96.3Hz за 30мс (ratio: 0.46)
 ✅ LOOP SAFE: 45.4s until loop end
 ✅ LOOP SAFE: 44.9s until loop end
 ✅ LOOP SAFE: 44.3s until loop end
 Rehearsal: Line changing from 0 to 1
 🔧 Block "Block 1": original=[0,1,2,3], sorted=[0,1,2,3]
 🔧 Block "Block 2": original=[4,5,6], sorted=[4,5,6]
 🔧 Block "Block 3": original=[7,8,9,10,11,12,13,14], sorted=[7,8,9,10,11,12,13,14]
 🔧 Block "Block 4": original=[15,16,17,18], sorted=[15,16,17,18]
 🔧 Block "Block 5": original=[19,20,21,22], sorted=[19,20,21,22]
 🔧 Block "Block 6": original=[23,24,25,26,27,28,29,30], sorted=[23,24,25,26,27,28,29,30]
 🔧 Block "Block 7": original=[31,32,33,34], sorted=[31,32,33,34]
 🔧 Block "Block 8": original=[35,36,37,38,39,40,41,42], sorted=[35,36,37,38,39,40,41,42]
 🔧 Block "Block 9": original=[43,44,45,46], sorted=[43,44,45,46]
 Rehearsal: Current line 0 belongs to block: block-1755239461490-0-bxmb4xg9cml Array(4)
 Rehearsal: New line 1 belongs to block: block-1755239461490-0-bxmb4xg9cml Array(4)
 Rehearsal: Same block (block-1755239461490-0-bxmb4xg9cml), updating active line from 0 to 1
 [SETACTIVE] Called with index 1. Current style: rehearsal
 Rehearsal mode: Setting active line 1
 Activating rehearsal line at index 1
 🔧 Block "Block 1": original=[0,1,2,3], sorted=[0,1,2,3]
 🔧 Block "Block 2": original=[4,5,6], sorted=[4,5,6]
 🔧 Block "Block 3": original=[7,8,9,10,11,12,13,14], sorted=[7,8,9,10,11,12,13,14]
 🔧 Block "Block 4": original=[15,16,17,18], sorted=[15,16,17,18]
 🔧 Block "Block 5": original=[19,20,21,22], sorted=[19,20,21,22]
 🔧 Block "Block 6": original=[23,24,25,26,27,28,29,30], sorted=[23,24,25,26,27,28,29,30]
 🔧 Block "Block 7": original=[31,32,33,34], sorted=[31,32,33,34]
 🔧 Block "Block 8": original=[35,36,37,38,39,40,41,42], sorted=[35,36,37,38,39,40,41,42]
 🔧 Block "Block 9": original=[43,44,45,46], sorted=[43,44,45,46]
 📡 BLOCK CHANGE EVENT received
    Current loop block: Block 1 (ID: block-1755239461490-0-bxmb4xg9cml)
    New active block: Block 1 (ID: block-1755239461490-0-bxmb4xg9cml)
    Loop is active: true
    Seeking in progress: false
 ✅ SEEK BUFFER EXPIRED: 3819ms since seek, processing block change
 🎯 LOOP IS ACTIVE: Checking user boundaries
    DragBoundaryController exists: true
    DragBoundaryController is active: true
    Has user defined boundaries: false
 🎯 USER BOUNDARY DETAILED CHECK:
    Current line index: -1
    Boundaries object: Object
 🎯 BOUNDARY VALIDATION:
    Current block lines: [0,1,2,3]
    User boundaries: 0 - 3
    Boundaries in current block: true
 🎯 USER BOUNDARY CHECK:
    Current line: -1
    User boundaries: 0 - 3
    Within boundaries: false
 🚨 LINE OUTSIDE USER BOUNDARIES: Line -1 is outside user range 0-3, checking other conditions
 ✅ MULTI-LOOP CONTINUE (early guard): keep looping across linked blocks
 BlockLoopControl: _createLoopButtonForCurrentBlock called
 BlockLoopControl: lyricsDisplay.currentActiveBlock: Object
 BlockLoopControl: lyricsDisplay.textBlocks: Array(9)
 🔇 Глубокая тишина - очистка нот
 🛑 Принудительная остановка всех нот (deep_silence), активных: 1
 ✅ LOOP SAFE: 43.8s until loop end
 ✅ LOOP SAFE: 43.3s until loop end
 ✅ LOOP SAFE: 42.8s until loop end
 ✅ LOOP SAFE: 42.3s until loop end
 🔇 Глубокая тишина - очистка нот
 🛑 Принудительная остановка всех нот (deep_silence), активных: 1
 🔇 Глубокая тишина - очистка нот
 🛑 Принудительная остановка всех нот (deep_silence), активных: 1
 ✅ LOOP SAFE: 41.7s until loop end
 ✅ LOOP SAFE: 41.1s until loop end
 🔇 Глубокая тишина - очистка нот
 🛑 Принудительная остановка всех нот (deep_silence), активных: 1
 ✅ LOOP SAFE: 40.7s until loop end
 ✅ LOOP SAFE: 40.1s until loop end
 🔇 Глубокая тишина - очистка нот
 🛑 Принудительная остановка всех нот (deep_silence), активных: 1
 ✅ LOOP SAFE: 39.5s until loop end
 Rehearsal: Line changing from 1 to 2
 🔧 Block "Block 1": original=[0,1,2,3], sorted=[0,1,2,3]
 🔧 Block "Block 2": original=[4,5,6], sorted=[4,5,6]
 🔧 Block "Block 3": original=[7,8,9,10,11,12,13,14], sorted=[7,8,9,10,11,12,13,14]
 🔧 Block "Block 4": original=[15,16,17,18], sorted=[15,16,17,18]
 🔧 Block "Block 5": original=[19,20,21,22], sorted=[19,20,21,22]
 🔧 Block "Block 6": original=[23,24,25,26,27,28,29,30], sorted=[23,24,25,26,27,28,29,30]
 🔧 Block "Block 7": original=[31,32,33,34], sorted=[31,32,33,34]
 🔧 Block "Block 8": original=[35,36,37,38,39,40,41,42], sorted=[35,36,37,38,39,40,41,42]
 🔧 Block "Block 9": original=[43,44,45,46], sorted=[43,44,45,46]
 Rehearsal: Current line 1 belongs to block: block-1755239461490-0-bxmb4xg9cml Array(4)
 Rehearsal: New line 2 belongs to block: block-1755239461490-0-bxmb4xg9cml Array(4)
 Rehearsal: Same block (block-1755239461490-0-bxmb4xg9cml), updating active line from 1 to 2
 [SETACTIVE] Called with index 2. Current style: rehearsal
 Rehearsal mode: Setting active line 2
 Activating rehearsal line at index 2
 🔧 Block "Block 1": original=[0,1,2,3], sorted=[0,1,2,3]
 🔧 Block "Block 2": original=[4,5,6], sorted=[4,5,6]
 🔧 Block "Block 3": original=[7,8,9,10,11,12,13,14], sorted=[7,8,9,10,11,12,13,14]
 🔧 Block "Block 4": original=[15,16,17,18], sorted=[15,16,17,18]
 🔧 Block "Block 5": original=[19,20,21,22], sorted=[19,20,21,22]
 🔧 Block "Block 6": original=[23,24,25,26,27,28,29,30], sorted=[23,24,25,26,27,28,29,30]
 🔧 Block "Block 7": original=[31,32,33,34], sorted=[31,32,33,34]
 🔧 Block "Block 8": original=[35,36,37,38,39,40,41,42], sorted=[35,36,37,38,39,40,41,42]
 🔧 Block "Block 9": original=[43,44,45,46], sorted=[43,44,45,46]
 📡 BLOCK CHANGE EVENT received
    Current loop block: Block 1 (ID: block-1755239461490-0-bxmb4xg9cml)
    New active block: Block 1 (ID: block-1755239461490-0-bxmb4xg9cml)
    Loop is active: true
    Seeking in progress: false
 🎯 LOOP IS ACTIVE: Checking user boundaries
    DragBoundaryController exists: true
    DragBoundaryController is active: true
    Has user defined boundaries: false
 🎯 USER BOUNDARY DETAILED CHECK:
    Current line index: -1
    Boundaries object: Object
 🎯 BOUNDARY VALIDATION:
    Current block lines: [0,1,2,3]
    User boundaries: 0 - 3
    Boundaries in current block: true
 🎯 USER BOUNDARY CHECK:
    Current line: -1
    User boundaries: 0 - 3
    Within boundaries: false
 🚨 LINE OUTSIDE USER BOUNDARIES: Line -1 is outside user range 0-3, checking other conditions
 ✅ MULTI-LOOP CONTINUE (early guard): keep looping across linked blocks
 BlockLoopControl: _createLoopButtonForCurrentBlock called
 BlockLoopControl: lyricsDisplay.currentActiveBlock: Object
 BlockLoopControl: lyricsDisplay.textBlocks: Array(9)
 ✅ LOOP SAFE: 38.5s until loop end
 ✅ LOOP SAFE: 38.0s until loop end
 🔇 Глубокая тишина - очистка нот
 🛑 Принудительная остановка всех нот (deep_silence), активных: 1
 ✅ LOOP SAFE: 37.5s until loop end
 ✅ LOOP SAFE: 36.5s until loop end
 ✅ LOOP SAFE: 36.0s until loop end
 🔇 Глубокая тишина - очистка нот
 🛑 Принудительная остановка всех нот (deep_silence), активных: 1
 Rehearsal: Line changing from 2 to 3
 🔧 Block "Block 1": original=[0,1,2,3], sorted=[0,1,2,3]
 🔧 Block "Block 2": original=[4,5,6], sorted=[4,5,6]
 🔧 Block "Block 3": original=[7,8,9,10,11,12,13,14], sorted=[7,8,9,10,11,12,13,14]
 🔧 Block "Block 4": original=[15,16,17,18], sorted=[15,16,17,18]
 🔧 Block "Block 5": original=[19,20,21,22], sorted=[19,20,21,22]
 🔧 Block "Block 6": original=[23,24,25,26,27,28,29,30], sorted=[23,24,25,26,27,28,29,30]
 🔧 Block "Block 7": original=[31,32,33,34], sorted=[31,32,33,34]
 🔧 Block "Block 8": original=[35,36,37,38,39,40,41,42], sorted=[35,36,37,38,39,40,41,42]
 🔧 Block "Block 9": original=[43,44,45,46], sorted=[43,44,45,46]
 Rehearsal: Current line 2 belongs to block: block-1755239461490-0-bxmb4xg9cml Array(4)
 Rehearsal: New line 3 belongs to block: block-1755239461490-0-bxmb4xg9cml Array(4)
 Rehearsal: Same block (block-1755239461490-0-bxmb4xg9cml), updating active line from 2 to 3
 [SETACTIVE] Called with index 3. Current style: rehearsal
 Rehearsal mode: Setting active line 3
 Activating rehearsal line at index 3
 🔧 Block "Block 1": original=[0,1,2,3], sorted=[0,1,2,3]
 🔧 Block "Block 2": original=[4,5,6], sorted=[4,5,6]
 🔧 Block "Block 3": original=[7,8,9,10,11,12,13,14], sorted=[7,8,9,10,11,12,13,14]
 🔧 Block "Block 4": original=[15,16,17,18], sorted=[15,16,17,18]
 🔧 Block "Block 5": original=[19,20,21,22], sorted=[19,20,21,22]
 🔧 Block "Block 6": original=[23,24,25,26,27,28,29,30], sorted=[23,24,25,26,27,28,29,30]
 🔧 Block "Block 7": original=[31,32,33,34], sorted=[31,32,33,34]
 🔧 Block "Block 8": original=[35,36,37,38,39,40,41,42], sorted=[35,36,37,38,39,40,41,42]
 🔧 Block "Block 9": original=[43,44,45,46], sorted=[43,44,45,46]
rtf-parser.js:849 📡 BLOCK CHANGE EVENT received
rtf-parser.js:849    Current loop block: Block 1 (ID: block-1755239461490-0-bxmb4xg9cml)
rtf-parser.js:849    New active block: Block 1 (ID: block-1755239461490-0-bxmb4xg9cml)
rtf-parser.js:849    Loop is active: true
rtf-parser.js:849    Seeking in progress: false
rtf-parser.js:849 🎯 LOOP IS ACTIVE: Checking user boundaries
rtf-parser.js:849    DragBoundaryController exists: true
rtf-parser.js:849    DragBoundaryController is active: true
rtf-parser.js:849    Has user defined boundaries: false
rtf-parser.js:849 🎯 USER BOUNDARY DETAILED CHECK:
rtf-parser.js:849    Current line index: -1
rtf-parser.js:849    Boundaries object: Object
rtf-parser.js:849 🎯 BOUNDARY VALIDATION:
rtf-parser.js:849    Current block lines: [0,1,2,3]
rtf-parser.js:849    User boundaries: 0 - 3
rtf-parser.js:849    Boundaries in current block: true
rtf-parser.js:849 🎯 USER BOUNDARY CHECK:
rtf-parser.js:849    Current line: -1
rtf-parser.js:849    User boundaries: 0 - 3
rtf-parser.js:849    Within boundaries: false
rtf-parser.js:849 🚨 LINE OUTSIDE USER BOUNDARIES: Line -1 is outside user range 0-3, checking other conditions
rtf-parser.js:849 ✅ MULTI-LOOP CONTINUE (early guard): keep looping across linked blocks
rtf-parser.js:849 BlockLoopControl: _createLoopButtonForCurrentBlock called
rtf-parser.js:849 BlockLoopControl: lyricsDisplay.currentActiveBlock: Object
rtf-parser.js:849 BlockLoopControl: lyricsDisplay.textBlocks: Array(9)
rtf-parser.js:849 ✅ LOOP SAFE: 35.4s until loop end
rtf-parser.js:849 ✅ LOOP SAFE: 34.9s until loop end
rtf-parser.js:849 ✅ LOOP SAFE: 34.4s until loop end
rtf-parser.js:849 🔇 Глубокая тишина - очистка нот
rtf-parser.js:849 🛑 Принудительная остановка всех нот (deep_silence), активных: 1
rtf-parser.js:849 ✅ LOOP SAFE: 33.8s until loop end
rtf-parser.js:849 🔇 Глубокая тишина - очистка нот
rtf-parser.js:849 🛑 Принудительная остановка всех нот (deep_silence), активных: 1
rtf-parser.js:849 ✅ LOOP SAFE: 33.3s until loop end
rtf-parser.js:849 ✅ LOOP SAFE: 32.8s until loop end
rtf-parser.js:849 ✅ LOOP SAFE: 32.3s until loop end
rtf-parser.js:849 Key pressed: Space
rtf-parser.js:849 Space bar pressed, toggling playback
rtf-parser.js:849 ⏸️ ИНСТРУМЕНТАЛ: Пауза
rtf-parser.js:849 ⏸️ ВОКАЛ: Пауза
rtf-parser.js:849 isPlaying property set to: false
rtf-parser.js:849 Key pressed:  , key code: 32, waveform active: false
rtf-parser.js:849 ✅ LOOP SAFE: 31.8s until loop end
rtf-parser.js:849 ✅ LOOP SAFE: 31.8s until loop end
rtf-parser.js:849 ✅ LOOP SAFE: 31.8s until loop end
rtf-parser.js:849 Key pressed: AltLeft
rtf-parser.js:849 Key pressed: Alt, key code: 18, waveform active: false
rtf-parser.js:849 Key pressed: MetaLeft
rtf-parser.js:849 Key pressed: Meta, key code: 91, waveform active: false
rtf-parser.js:849 ✅ LOOP SAFE: 31.8s until loop end
rtf-parser.js:849 Key pressed: KeyJ
rtf-parser.js:849 Key pressed: j, key code: 74, waveform active: false
rtf-parser.js:849 ✅ LOOP SAFE: 31.8s until loop end
rtf-parser.js:849 ✅ LOOP SAFE: 31.8s until loop end
rtf-parser.js:849 ✅ LOOP SAFE: 31.8s until loop end
rtf-parser.js:849 WaveformEditor: Vocal audio data not available
rtf-parser.js:849 🔧 Block "Block 1": original=[0,1,2,3], sorted=[0,1,2,3]
rtf-parser.js:849 🔧 Block "Block 2": original=[4,5,6], sorted=[4,5,6]
rtf-parser.js:849 🔧 Block "Block 3": original=[7,8,9,10,11,12,13,14], sorted=[7,8,9,10,11,12,13,14]
rtf-parser.js:849 🔧 Block "Block 4": original=[15,16,17,18], sorted=[15,16,17,18]
rtf-parser.js:849 🔧 Block "Block 5": original=[19,20,21,22], sorted=[19,20,21,22]
rtf-parser.js:849 🔧 Block "Block 6": original=[23,24,25,26,27,28,29,30], sorted=[23,24,25,26,27,28,29,30]
rtf-parser.js:849 🔧 Block "Block 7": original=[31,32,33,34], sorted=[31,32,33,34]
rtf-parser.js:849 🔧 Block "Block 8": original=[35,36,37,38,39,40,41,42], sorted=[35,36,37,38,39,40,41,42]
rtf-parser.js:849 🔧 Block "Block 9": original=[43,44,45,46], sorted=[43,44,45,46]
rtf-parser.js:849 🔧 Block "Block 1": original=[0,1,2,3], sorted=[0,1,2,3]
rtf-parser.js:849 🔧 Block "Block 2": original=[4,5,6], sorted=[4,5,6]
rtf-parser.js:849 🔧 Block "Block 3": original=[7,8,9,10,11,12,13,14], sorted=[7,8,9,10,11,12,13,14]
rtf-parser.js:849 🔧 Block "Block 4": original=[15,16,17,18], sorted=[15,16,17,18]
rtf-parser.js:849 🔧 Block "Block 5": original=[19,20,21,22], sorted=[19,20,21,22]
rtf-parser.js:849 🔧 Block "Block 6": original=[23,24,25,26,27,28,29,30], sorted=[23,24,25,26,27,28,29,30]
rtf-parser.js:849 🔧 Block "Block 7": original=[31,32,33,34], sorted=[31,32,33,34]
rtf-parser.js:849 🔧 Block "Block 8": original=[35,36,37,38,39,40,41,42], sorted=[35,36,37,38,39,40,41,42]
rtf-parser.js:849 🔧 Block "Block 9": original=[43,44,45,46], sorted=[43,44,45,46]
rtf-parser.js:849 ✅ LOOP SAFE: 31.8s until loop end
rtf-parser.js:849 ✅ LOOP SAFE: 31.8s until loop end
rtf-parser.js:849 ✅ LOOP SAFE: 31.8s until loop end
rtf-parser.js:849 ✅ LOOP SAFE: 31.8s until loop end
rtf-parser.js:849 ✅ LOOP SAFE: 31.8s until loop end
rtf-parser.js:849 ✅ LOOP SAFE: 31.8s until loop end
rtf-parser.js:849 ✅ LOOP SAFE: 31.8s until loop end
rtf-parser.js:849 ✅ LOOP SAFE: 31.8s until loop end
rtf-parser.js:849 ✅ LOOP SAFE: 31.8s until loop end
rtf-parser.js:849 ✅ LOOP SAFE: 31.8s until loop end
rtf-parser.js:849 ✅ LOOP SAFE: 31.8s until loop end
rtf-parser.js:849 ✅ LOOP SAFE: 31.8s until loop end
rtf-parser.js:849 ✅ LOOP SAFE: 31.8s until loop end
rtf-parser.js:849 ✅ LOOP SAFE: 31.8s until loop end
rtf-parser.js:849 ✅ LOOP SAFE: 31.8s until loop end
rtf-parser.js:849 ✅ LOOP SAFE: 31.8s until loop end
rtf-parser.js:849 ✅ LOOP SAFE: 31.8s until loop end
rtf-parser.js:849 ✅ LOOP SAFE: 31.8s until loop end
rtf-parser.js:849 ✅ LOOP SAFE: 31.8s until loop end
rtf-parser.js:849 ✅ LOOP SAFE: 31.8s until loop end
rtf-parser.js:849 ✅ LOOP SAFE: 31.8s until loop end
rtf-parser.js:849 ✅ LOOP SAFE: 31.8s until loop end
rtf-parser.js:849 ✅ LOOP SAFE: 31.8s until loop end
rtf-parser.js:849 ✅ LOOP SAFE: 31.8s until loop end
rtf-parser.js:849 ✅ LOOP SAFE: 31.8s until loop end
