# –°–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–∞—è –¥–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞ "–ù–µ–π—Ä–æ–°–æ–≤–µ—Ç–∞"

–≠—Ç–æ—Ç –ø–ª–∞–Ω —è–≤–ª—è–µ—Ç—Å—è –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–º —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ–º –ø–æ —Ä–∞–∑–≤–∏—Ç–∏—é –ø—Ä–æ–µ–∫—Ç–∞. –û–Ω –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—É—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é —Å —Ç–∞–∫—Ç–∏—á–µ—Å–∫–∏–º–∏ –∏–Ω–∂–µ–Ω–µ—Ä–Ω—ã–º–∏ —Ä–µ—à–µ–Ω–∏—è–º–∏, –≤—ã—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–º–∏ –≤ —Ö–æ–¥–µ –∞–Ω–∞–ª–∏–∑–∞.

---

## üéØ –°–ø—Ä–∏–Ω—Ç 1: –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –§—É–Ω–¥–∞–º–µ–Ω—Ç

**–¶–µ–ª—å:** –ó–∞–ª–æ–∂–∏—Ç—å –Ω–∞–¥–µ–∂–Ω—É—é –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—É—é –æ—Å–Ω–æ–≤—É –¥–ª—è –≤—Å–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —á—Ç–æ–±—ã –±—É–¥—É—â–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –±—ã–ª–∞ –±—ã—Å—Ç—Ä–æ–π –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–π.

1.  **–ì–ª–æ–±–∞–ª—å–Ω–∞—è –®–∏–Ω–∞ –°–æ–±—ã—Ç–∏–π (Event Bus) –∏ –•—Ä–∞–Ω–∏–ª–∏—â–µ (Store):**
    *   **–ó–∞–¥–∞—á–∞:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ–±—ã—Ç–∏—è–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `audio-engine:timeupdate`, `lyrics:marker-hit`) –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º (—Ç–µ–∫—É—â–∏–π —Ç—Ä–µ–∫, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏).
    *   **–ó–∞—á–µ–º:** –ß—Ç–æ–±—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å—Ç–∞–ª–∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–º–∏ –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞ (decoupled architecture). `AudioEngine` –Ω–µ –¥–æ–ª–∂–µ–Ω –∑–Ω–∞—Ç—å –æ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–∏ `LyricsDisplay`, –æ–Ω –ø—Ä–æ—Å—Ç–æ —Å–æ–æ–±—â–∞–µ—Ç –æ –Ω–æ–≤–æ–º –≤—Ä–µ–º–µ–Ω–∏ –≤ "–æ–±—â—É—é —Å–µ—Ç—å".

2.  **–†–æ—É—Ç–µ—Ä —Å –ì–ª—É–±–æ–∫–∏–º–∏ –°—Å—ã–ª–∫–∞–º–∏ (Deep Linking):**
    *   **–ó–∞–¥–∞—á–∞:** –û–±–µ—Å–ø–µ—á–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Ä–∞–±–æ—Ç—É URL. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏–ª–∏ –ø–æ–¥–µ–ª–∏—Ç—å—Å—è —Å—Å—ã–ª–∫–æ–π (`/track/123`) –∏ –ø–æ–ø–∞—Å—Ç—å –≤ –Ω—É–∂–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
    *   **–ó–∞—á–µ–º:** –≠—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç –¥–ª—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–π –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –æ–ø—ã—Ç–∞.

3.  **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ CI –∏ –û–∫—Ä—É–∂–µ–Ω–∏—è:**
    *   **–ó–∞–¥–∞—á–∞:** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –±–∞–∑–æ–≤—ã–π CI-–ø–∞–π–ø–ª–∞–π–Ω –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ª–∏–Ω—Ç–∏–Ω–≥–∞ (–ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞) –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∫–æ–º–º–∏—Ç–µ.
    *   **–ó–∞—á–µ–º:** –ß—Ç–æ–±—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å —á–∏—Å—Ç–æ—Ç—É –∫–æ–¥–∞ –∏ –æ—Ç–ª–∞–≤–ª–∏–≤–∞—Ç—å –æ—à–∏–±–∫–∏ –Ω–∞ —Ä–∞–Ω–Ω–µ–π —Å—Ç–∞–¥–∏–∏.

---

## üöÄ –°–ø—Ä–∏–Ω—Ç 2: –£–¥–∞—Ä –ø–æ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

**–¶–µ–ª—å:** –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–∞–º—ã–µ —Ä–µ—Å—É—Ä—Å–æ–µ–º–∫–∏–µ —É—á–∞—Å—Ç–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —á—Ç–æ–±—ã –æ–±–µ—Å–ø–µ—á–∏—Ç—å –ø–ª–∞–≤–Ω—É—é —Ä–∞–±–æ—Ç—É –Ω–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö.

1.  **–£—Å–ª–æ–≤–Ω—ã–π Web Worker –¥–ª—è RTF-–ø–∞—Ä—Å–∏–Ω–≥–∞:**
    *   **–ó–∞–¥–∞—á–∞:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–∞—Ä—Å–∏–Ω–≥ RTF –≤ Web Worker'–µ. –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É: –µ—Å–ª–∏ —Ñ–∞–π–ª < 5MB, –ø–∞—Ä—Å–∏—Ç—å –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –ø–æ—Ç–æ–∫–µ; –µ—Å–ª–∏ > 5MB ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ—Ç–æ–∫–æ–≤—ã–π (—á–∞–Ω–∫–æ–≤—ã–π) –ø–∞—Ä—Å–∏–Ω–≥ –≤ Worker'–µ.
    *   **–ó–∞—á–µ–º:** –ß—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤ –∏ –Ω–µ –Ω–µ—Å—Ç–∏ –Ω–∞–∫–ª–∞–¥–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ Worker'–∞ –¥–ª—è –º–∞–ª–µ–Ω—å–∫–∏—Ö.

2.  **`OffscreenCanvas` –¥–ª—è AR-–†–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞:**
    *   **–ó–∞–¥–∞—á–∞:** –í—ã–Ω–µ—Å—Ç–∏ –≤—Å—é –ª–æ–≥–∏–∫—É —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ AR-–º–∞—Å–æ–∫ –∏ –≤–∏–¥–µ–æ-—ç—Ñ—Ñ–µ–∫—Ç–æ–≤ –≤ `OffscreenCanvas`. –í–Ω–µ–¥—Ä–∏—Ç—å feature-—Ñ–ª–∞–≥ –¥–ª—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≤–∫–ª—é—á–µ–Ω–∏—è/–æ—Ç–∫–ª—é—á–µ–Ω–∏—è –∏ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è A/B —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.
    *   **–ó–∞—á–µ–º:** –ß—Ç–æ–±—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Å–≤–æ–±–æ–¥–∏—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫ –æ—Ç —Ç—è–∂–µ–ª—ã—Ö –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π, —á—Ç–æ —è–≤–ª—è–µ—Ç—Å—è –≥–ª–∞–≤–Ω—ã–º –∑–∞–ª–æ–≥–æ–º –ø–ª–∞–≤–Ω–æ–≥–æ UI.

3.  **–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ `AudioEngine`:**
    *   **–ó–∞–¥–∞—á–∞:** –ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å `AudioEngine` –¥–ª—è —Ä–∞–±–æ—Ç—ã —á–µ—Ä–µ–∑ –Ω–æ–≤—É—é –®–∏–Ω—É –°–æ–±—ã—Ç–∏–π.
    *   **–ó–∞—á–µ–º:** –ß—Ç–æ–±—ã –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ –≤ –Ω–æ–≤—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –∏ —Å–¥–µ–ª–∞—Ç—å –ø–µ—Ä–≤—ã–º "–≥—Ä–∞–∂–¥–∞–Ω–∏–Ω–æ–º" –Ω–∞—à–µ–π –Ω–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã.

---

## üõ†Ô∏è –°–ø—Ä–∏–Ω—Ç 3: –ö–∞—á–µ—Å—Ç–≤–æ –ö–æ–¥–∞ –∏ –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–µ –†–∞–∑–≤–∏—Ç–∏–µ

**–¶–µ–ª—å:** –ü–æ–≤—ã—Å–∏—Ç—å –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å, —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å –∫–æ–¥–æ–≤–æ–π –±–∞–∑—ã –¥–ª—è –±—É–¥—É—â–µ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏—è.

1.  **–ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ TypeScript:**
    *   **–ó–∞–¥–∞—á–∞:** –ù–∞—á–∞—Ç—å –ø–∏—Å–∞—Ç—å –Ω–æ–≤—ã–µ –º–æ–¥—É–ª–∏ –Ω–∞ TypeScript. –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –ø–æ–∫—Ä—ã–≤–∞—Ç—å —Ç–∏–ø–∞–º–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–π –∫–æ–¥.
    *   **–ó–∞—á–µ–º:** –î–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ –∫–æ–¥–∞, —É–º–µ–Ω—å—à–µ–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –æ—à–∏–±–æ–∫ –∏ —É–ª—É—á—à–µ–Ω–∏—è –æ–ø—ã—Ç–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

2.  **–í–Ω–µ–¥—Ä–µ–Ω–∏–µ CSS-–º–æ–¥—É–ª–µ–π (–∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∞):**
    *   **–ó–∞–¥–∞—á–∞:** –û–±–µ—Å–ø–µ—á–∏—Ç—å –∏–∑–æ–ª—è—Ü–∏—é —Å—Ç–∏–ª–µ–π –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –∏ —É–ø—Ä–æ—Å—Ç–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É.
    *   **–ó–∞—á–µ–º:** –ß—Ç–æ–±—ã —Å—Ç–∏–ª–∏ –æ–¥–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —Å–ª—É—á–∞–π–Ω–æ –Ω–µ "—Å–ª–æ–º–∞–ª–∏" —Å—Ç–∏–ª–∏ –¥—Ä—É–≥–æ–≥–æ.

3.  **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –°–∏—Å—Ç–µ–º—ã –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:**
    *   **–ó–∞–¥–∞—á–∞:** –ü–æ–¥–∫–ª—é—á–∏—Ç—å —Å–µ—Ä–≤–∏—Å —Ç–∏–ø–∞ Sentry –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–±–æ—Ä–∞ –æ—à–∏–±–æ–∫ –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —É —Ä–µ–∞–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.
    *   **–ó–∞—á–µ–º:** –ß—Ç–æ–±—ã –∑–Ω–∞—Ç—å –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Ä–∞–Ω—å—à–µ, —á–µ–º –æ –Ω–∏—Ö —Å–æ–æ–±—â–∞—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –∏ –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ä–µ—à–µ–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö. 